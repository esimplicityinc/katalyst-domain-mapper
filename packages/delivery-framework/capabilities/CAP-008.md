---
id: CAP-008
title: "Real-time Streaming"
tag: "@CAP-008"
category: Technical
status: planned
description: "Server-Sent Events (SSE) streaming for real-time delivery of agent responses, scanner progress, and governance validation output to the web UI without waiting for full completion."
---

# CAP-008: Real-time Streaming

## Description

The system provides Server-Sent Events (SSE) endpoints that stream agent output, scanner progress, and governance validation results to clients in real-time. Instead of waiting for a full response before displaying anything, the UI receives incremental chunks as the agent generates them â€” eliminating perceived latency and providing immediate feedback on long-running operations.

## Key Features

- SSE endpoint (`GET /api/v1/stream/:sessionId`) with EventSource-compatible protocol
- Typed event stream: `agent:chunk` (text), `agent:status` (phase changes), `agent:complete`, `agent:error`
- Reconnection support via `Last-Event-ID` for resumable streams after network interruption
- Server-side event emitter decoupled from transport (supports future WebSocket upgrade)
- React `useSSE` hook and `EventSourceProvider` for `@foe/web-ui` consumption
- Connection management: heartbeat keep-alive, configurable timeout, max concurrent connections
- Streams scanner agent output during FOE assessment (5-15 minute scans become interactive)
- Streams governance validation progress during CLI and API operations

## Personas

- **PER-001** (Engineering Team Lead) -- Sees live agent output and scan progress in the web UI
- **PER-002** (Platform Engineer) -- Implements and configures SSE endpoints, manages connection limits
- **PER-003** (AI Agent) -- Emits streaming events during scan and validation operations
