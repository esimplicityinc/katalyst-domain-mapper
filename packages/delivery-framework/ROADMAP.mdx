---
title: Katalyst Delivery Framework â€” Roadmap
description: Consolidated roadmap for the governance pipeline, DDD tooling, and delivery framework.
---

# Katalyst Delivery Framework â€” Roadmap

> **Last Updated**: 2026-02-13
> **Total Items**: 38 | **In Progress**: 0 | **Proposed**: 23 | **Complete**: 15

Turn this monorepo into a **self-governing delivery framework**. Import governance infrastructure, build Zod-validated schemas, create parsers and CLI tooling, add API endpoints, enhance the scanner, and visualize governance health â€” all while the framework governs its own development.

---

## Status Legend

| Emoji | Status | Description |
|-------|--------|-------------|
| ğŸš§ | `implementing` | Currently being worked on |
| ğŸ¯ | `proposed` | Requirements defined, not yet started |
| âœ… | `complete` | All governance gates passed |
| ğŸ”„ | `nfr_validating` | Implementation done, validating NFRs |
| â¸ï¸ | `nfr_blocked` | NFR validation failed, needs fixes |
| ğŸ“‹ | `adr_validated` | ADRs approved, ready for BDD |
| ğŸ“ | `bdd_pending` | BDD scenarios written, awaiting approval |
| âœï¸ | `bdd_complete` | BDD approved, ready for implementation |

---

## Phase 0: Foundation â€” Import Generic Infrastructure

> **Goal**: Bring prima's governance infrastructure into this repo as `packages/delivery-framework/`, with agents at root, using the domain-mapper's own domain as example content.

### [ROAD-001] Import Governance Infrastructure ğŸš§
**Status**: Implementing
**Priority**: High
**Phase**: 0 â€” Foundation
**Created**: 2026-02-05

Import the generic governance infrastructure from prima-delivery-demonstrator into this monorepo. Establishes the Docusaurus documentation site, React dashboard components, governance scripts, and doc templates.

- âœ… 0.1 â€” Import Docusaurus site, components, scripts, templates
- ğŸ¯ 0.2 â€” Import + genericize 16 agents to `.opencode/agents/`
- ğŸ¯ 0.3 â€” Import + adapt skills to `.opencode/skills/`
- ğŸ¯ 0.4 â€” Create root configs (`opencode.json`, `Justfile`, `agentspec.md`)
- ğŸ¯ 0.5 â€” Populate self-referential example domain content

**Dependencies**: None (foundation)
**Enables**: [ROAD-002](#road-002-governance-zod-schemas-), [ROAD-003](#road-003-ddd-artifact-schemas-), [ROAD-007](#road-007-bdd-agent-skills-)

---

## Phase 1: Core Schemas & Skills

> **Goal**: Create the canonical Zod validation schemas for all governance and DDD artifact types, and install BDD agent skills. Phases 1 schemas are the foundation that parsers, API, and scanner all build upon.

### [ROAD-002] Governance Zod Schemas ğŸ¯
**Status**: Proposed
**Priority**: High
**Phase**: 1 â€” Core
**Created**: 2026-02-05

Create Zod validation schemas for all 7 governance artifact types in `@foe/schemas`. Replaces hand-written JS validation in prima's `governance-linter.js` with type-safe, runtime-validated schemas.

- ğŸ¯ Create `common.ts` â€” shared enums, ID patterns, priority schema
- ğŸ¯ Create `capability.ts` â€” CAP-XXX schema with category and tag
- ğŸ¯ Create `persona.ts` â€” PER-XXX schema with archetypes and technical profile
- ğŸ¯ Create `user-story.ts` â€” US-XXX schema with persona and capability refs
- ğŸ¯ Create `use-case.ts` â€” UC-XXX schema with actors and flows
- ğŸ¯ Create `road-item.ts` â€” ROAD-XXX schema with 8-state machine and governance block
- ğŸ¯ Create `adr.ts` â€” ADR-XXX schema with status and category
- ğŸ¯ Create `nfr.ts` â€” NFR-XXX schema with category and threshold
- ğŸ¯ Create `change-entry.ts` â€” CHANGE-XXX schema with compliance and signatures
- ğŸ¯ Create `governance-index.ts` â€” GovernanceIndexSchema with reverse indices
- ğŸ¯ Create barrel export `index.ts`
- ğŸ¯ Unit tests for all schemas

**Requires**: [ROAD-001](#road-001-import-governance-infrastructure-)
**Enables**: [ROAD-004](#road-004-governance-parsers-index-builder--cli-)

**Detailed Plan**: [01-governance-schemas.md](../plans/governance-schemas.md) | **~500 lines, ~10 files**

---

### [ROAD-003] DDD Artifact Schemas ğŸ¯
**Status**: Proposed
**Priority**: High
**Phase**: 1 â€” Core
**Created**: 2026-02-05

Create Zod schemas for 4 DDD artifact types: BoundedContext, Aggregate, ValueObject, and DomainEvent. Formalizes domain model knowledge into validated markdown frontmatter.

- ğŸ¯ Create `bounded-context.ts` â€” slug, responsibility, communication pattern, upstream/downstream
- ğŸ¯ Create `aggregate.ts` â€” root entity, invariants, commands, events published
- ğŸ¯ Create `value-object.ts` â€” properties, validation rules, immutability flag
- ğŸ¯ Create `domain-event.ts` â€” payload schema, source aggregate, subscriber contexts
- ğŸ¯ Create DDD barrel export `ddd/index.ts`
- ğŸ¯ Extend `GovernanceIndexSchema` with DDD collections and reverse indices
- ğŸ¯ Unit tests for all DDD schemas

**Requires**: [ROAD-001](#road-001-import-governance-infrastructure-)
**Enables**: [ROAD-004](#road-004-governance-parsers-index-builder--cli-)

**Detailed Plan**: [02-ddd-schemas.md](../plans/ddd-schemas.md) | **~300 lines, ~5 files**

---

### [ROAD-007] BDD Agent Skills âœ…
**Status**: Complete
**Priority**: Medium
**Phase**: 1 â€” Core
**Created**: 2026-02-05
**Completed**: 2026-02-13

Install 5 OpenCode agent skills for the `@esimplicity/stack-tests` BDD framework. Pure static markdown reference docs that enable agents to write, run, and troubleshoot BDD tests.

- âœ… Create `katalyst-bdd-quickstart/SKILL.md` â€” setup, running tests, tag system (226 lines)
- âœ… Create `katalyst-bdd-step-reference/SKILL.md` â€” complete step catalog (API/UI/TUI/hybrid) (348 lines)
- âœ… Create `katalyst-bdd-create-test/SKILL.md` â€” test creation patterns and examples (394 lines)
- âœ… Create `katalyst-bdd-troubleshooting/SKILL.md` â€” common errors and debugging (476 lines)
- âœ… Create `katalyst-bdd-architecture/SKILL.md` â€” ports & adapters, custom steps (574 lines)

**Requires**: None (independent of governance pipeline)
**Enables**: None (standalone reference docs)

**Delivered**: 2,018 lines across 5 comprehensive skills (68% over original 1,200 line estimate)

---

## Phase 2: Parsers, Builder & CLI

> **Goal**: Build the tooling that transforms validated schemas into a usable governance pipeline. The governance index builder is the critical convergence point â€” everything downstream depends on it.

### [ROAD-004] Governance Parsers, Index Builder & CLI ğŸ¯
**Status**: Proposed
**Priority**: High
**Phase**: 2 â€” Parsers & CLI
**Created**: 2026-02-05

Extend `@foe/field-guide-tools` with 11 new parsers, a governance index builder with referential integrity validation, and 6 new CLI commands. This is the critical convergence point.

- ğŸ¯ Create 11 parsers (capability, persona, user-story, use-case, road-item, adr, nfr, change-entry, bounded-context, aggregate, value-object, domain-event)
- ğŸ¯ Create `governance-index.ts` builder with cross-reference validation
- ğŸ¯ Implement referential integrity checks (orphans, missing targets, circular deps)
- ğŸ¯ Add CLI: `build:governance` â€” parse all artifacts to `governance-index.json`
- ğŸ¯ Add CLI: `build:all` â€” build methods + observations + governance indices
- ğŸ¯ Add CLI: `validate:governance` â€” validate frontmatter without building
- ğŸ¯ Add CLI: `validate:transitions` â€” check state machine compliance
- ğŸ¯ Add CLI: `coverage:capabilities` â€” capability-to-feature coverage
- ğŸ¯ Add CLI: `coverage:personas` â€” persona-to-story coverage
- ğŸ¯ Unit tests for parsers + integration tests for index builder

**Requires**: [ROAD-002](#road-002-governance-zod-schemas-), [ROAD-003](#road-003-ddd-artifact-schemas-)
**Enables**: [ROAD-005](#road-005-api-governance-domain-), [ROAD-006](#road-006-scanner-governance-agent-), [ROAD-008](#road-008-delivery-framework-integration-)

**Detailed Plan**: [03-parsers-and-builders.md](../plans/parsers-and-builders.md) | **~1,200 lines, ~14 files**

---

### [ROAD-024] ContextMapper CML Export Adapter ğŸ¯
**Status**: Proposed
**Priority**: High
**Phase**: 2 â€” Parsers & CLI
**Created**: 2026-02-10

Create a Ports & Adapters pattern implementation that exports the Zod domain model to ContextMapper CML (Context Mapping Language) format. Enables using ContextMapper's visualization and architecture analysis tools while maintaining Zod schemas as the single source of truth.

- ğŸ¯ Create `CMLWriter` adapter â€” transforms `DomainModel` â†’ CML string
- ğŸ¯ Add CLI command: `export:cml` â€” outputs `.cml` file for ContextMapper consumption
- ğŸ¯ Implement bounded context mapping with relationships (Customer-Supplier, Conformist, ACL, etc.)
- ğŸ¯ Generate ContextMap block with SYSTEM_LANDSCAPE type and relationship annotations
- ğŸ¯ Add optional `fromCML()` reader adapter for bidirectional sync (Phase 2 stretch goal)
- ğŸ¯ Create integration test verifying CML output parses with ContextMapper CLI
- ğŸ¯ Document usage: `bunx foe-field-guide export:cml --input model.json --output context-map.cml`

**Requires**: [ROAD-004](#road-004-governance-parsers-index-builder--cli-), [ROAD-003](#road-003-ddd-artifact-schemas-)
**Enables**: [ROAD-016](#road-016-interactive-context-map-diagram-) (alternative diagram generation), [ROAD-021](#road-021-markdown-documentation-export-) (precedent for multi-format export)
**Capabilities**: [CAP-012](#cap-012-domain-model-export-pipeline) â€” adds CML as new export format
**User Stories**: [US-041](#us-041-export-domain-model-to-contextmapper-cml) (to be created)

---

## Phase 3: API, Scanner, Visualization & Domain Tooling

> **Goal**: Multiple parallel workstreams that consume the governance index: API endpoints, scanner agents, delivery framework integration, SSE streaming, governance dashboards, interactive DDD visualizations, export pipelines, and onboarding. Can all start once Phase 2 is complete.

### [ROAD-005] API Governance Domain âœ…
**Status**: Complete
**Priority**: Medium
**Phase**: 3 â€” API & Services
**Created**: 2026-02-05
**Completed**: 2026-02-12

Add governance domain to `@foe/api` (Elysia + SQLite + Drizzle) following hexagonal architecture. Provides REST endpoints for governance snapshot ingestion, trend tracking, and coverage reporting.

- ğŸ¯ Create `GovernanceRepository` port interface
- ğŸ¯ Create SQLite adapter with 4 Drizzle tables
- ğŸ¯ Create use cases: IngestSnapshot, QueryState, GetCoverage, GetTrend
- ğŸ¯ Create 9 HTTP endpoints under `/api/v1/governance/*`
- ğŸ¯ Database migration for governance tables
- ğŸ¯ Integration tests for all endpoints

**Requires**: [ROAD-004](#road-004-governance-parsers-index-builder--cli-)
**Enables**: [ROAD-009](#road-009-governance--ddd-web-visualization-)

**Detailed Plan**: [04-api-governance-domain.md](../plans/api-governance-domain.md) | **~700 lines, ~10 files**

---

### [ROAD-006] Scanner Governance Agent ğŸ¯
**Status**: Proposed
**Priority**: Low
**Phase**: 3 â€” API & Services
**Created**: 2026-02-05

Create `foe-scanner-governance.md` specialist agent for governance health analysis. Update Docker build to bake in `governance-index.json`. Modify orchestrator to dispatch governance as 6th specialist.

- ğŸ¯ Create governance agent with 4 subscores (Artifact Completeness, Cross-Reference Integrity, State Machine Compliance, DDD Model Quality)
- ğŸ¯ Update Docker multi-stage build to include governance index
- ğŸ¯ Update orchestrator to dispatch governance agent in parallel
- ğŸ¯ Enhance DDD domain agent to check for formal DDD markdown artifacts
- ğŸ¯ Graceful zero-score when no governance artifacts found

**Requires**: [ROAD-004](#road-004-governance-parsers-index-builder--cli-)
**Enables**: None (terminal leaf)

**Detailed Plan**: [05-scanner-agents.md](../plans/scanner-agents.md) | **~400 lines, ~2 files**

---

### [ROAD-008] Delivery Framework Integration ğŸ¯
**Status**: Proposed
**Priority**: Medium
**Phase**: 3 â€” API & Services
**Created**: 2026-02-05

Replace hand-written JS governance scripts with `@foe/schemas` + `@foe/field-guide-tools` CLI. Create self-referential domain content. Migrate Docusaurus plugins to consume `governance-index.json`.

- ğŸ¯ Create self-referential domain content (~40-60 markdown files)
- ğŸ¯ Create 3 bounded contexts (Scanning, FieldGuide, Reporting)
- ğŸ¯ Create 4-5 aggregates, 5-6 domain events, 6-8 value objects
- ğŸ¯ Create 4-6 capabilities (FOE Report Generation, Governance Validation, etc.)
- ğŸ¯ Update Docusaurus plugins to consume `governance-index.json`
- ğŸ¯ Update Justfile recipes from `node scripts/*.js` to `bunx foe-field-guide` CLI
- ğŸ¯ Deprecate old governance scripts (keep for comparison)
- ğŸ¯ Validate new system output matches old system

**Requires**: [ROAD-004](#road-004-governance-parsers-index-builder--cli-)
**Enables**: None (validates the pipeline)

**Detailed Plan**: [06-prima-integration.md](../plans/prima-integration.md) | **~200 new lines, ~1,500 deleted**

---

### [ROAD-015] SSE Streaming for Real-time Agent Responses ğŸ¯
**Status**: Proposed
**Priority**: High
**Phase**: 3 â€” API & Services
**Created**: 2026-02-06

Server-Sent Events (SSE) endpoint so the UI can display agent output as it's generated â€” no waiting for the full response. Eliminates perceived latency during 5-15 minute scans and 30+ second governance validations by streaming incremental results in real-time.

- ğŸ¯ Create SSE endpoint `GET /api/v1/stream/:sessionId` with EventSource-compatible protocol
- ğŸ¯ Implement server-side event emitter for agent output chunks (text, status, progress)
- ğŸ¯ Define SSE event types: `agent:chunk`, `agent:status`, `agent:complete`, `agent:error`
- ğŸ¯ Create Elysia SSE plugin/adapter with `Content-Type: text/event-stream` headers
- ğŸ¯ Add reconnection support with `Last-Event-ID` for resumable streams
- ğŸ¯ Create React `useSSE` hook and `EventSourceProvider` component for `@foe/web-ui`
- ğŸ¯ Stream scanner agent output in real-time during FOE assessment
- ğŸ¯ Stream governance validation progress during CLI and API operations
- ğŸ¯ Add SSE connection management (heartbeat keep-alive, timeout, max connections)
- ğŸ¯ Integration tests with SSE client assertions

**Requires**: [ROAD-005](#road-005-api-governance-domain-)
**Enables**: Real-time user experience for all long-running operations
**Capabilities**: [CAP-008](#cap-008-real-time-streaming)
**User Stories**: [US-026](#us-026-stream-agent-responses-via-sse), [US-027](#us-027-view-live-agent-progress-in-ui)
**BDD Features**: `api/streaming/01_sse_streaming.feature` (8 scenarios), `hybrid/streaming/01_sse_e2e.feature` (2 scenarios)

---

### [ROAD-009] Governance & DDD Web Visualization âœ…
**Status**: Complete
**Priority**: Low
**Phase**: 3 â€” API, Scanner, Visualization & Domain Tooling
**Created**: 2026-02-05
**Completed**: 2026-02-10

Add 2 new report templates to `@foe/web-ui`: a Governance Dashboard (Template 12) and a DDD Context Map (Template 13).

- ğŸ¯ Template 12: Governance Dashboard â€” health summary, road item Kanban, capability coverage matrix, integrity report
- ğŸ¯ Template 13: DDD Context Map â€” context overview cards, SVG context map, aggregate deep dive, event flow diagram, ubiquitous language glossary
- ğŸ¯ Shared components: `ContextCard.tsx`, `KanbanBoard.tsx`
- ğŸ¯ Governance + DDD color palette extensions in Tailwind
- ğŸ¯ Responsive design (mobile, tablet, desktop) + dark mode
- ğŸ¯ Data from API endpoints or static JSON fallback

**Requires**: [ROAD-005](#road-005-api-governance-domain-)
**Enables**: [ROAD-016](#road-016-interactive-context-map-diagram-), [ROAD-017](#road-017-aggregate-tree-hierarchy-view-), [ROAD-018](#road-018-domain-event-flow-visualization-), [ROAD-019](#road-019-application-lifecycle-state-machine-view-), [ROAD-020](#road-020-subdomain-classification-system-), [ROAD-021](#road-021-markdown-documentation-export-), [ROAD-023](#road-023-onboarding--how-it-works-experience-)

> **Note**: The DDD visualization scope (Template 13) has been decomposed into 8 focused deliverables. ROAD-009 now focuses on **Template 12 (Governance Dashboard)** and the foundational DDD visualization infrastructure. The focused deliverables (ROAD-016..023) follow immediately in this same phase.

**Detailed Plan**: [07-web-visualization.md](../plans/web-visualization.md) | **~2,000 lines, ~4 files**

---

### [ROAD-020] Subdomain Classification System âœ…
**Status**: Complete
**Priority**: High
**Phase**: 3 â€” API, Scanner, Visualization & Domain Tooling
**Created**: 2026-02-06

Add subdomain type classification (Core/Supporting/Generic) to bounded contexts. API schema extension, UI form controls, color coding across views, and strategic investment guidance.

- ğŸ¯ Add `subdomainType` field to bounded context DB schema and API model
- ğŸ¯ Add subdomain type dropdown to context creation/edit forms
- ğŸ¯ Build classification overview card with investment guidance
- ğŸ¯ Integrate color coding in context list
- ğŸ¯ Build-vs-buy recommendation hints

**Requires**: [ROAD-009](#road-009-governance--ddd-web-visualization-)
**Enables**: [ROAD-016](#road-016-interactive-context-map-diagram-), [ROAD-021](#road-021-markdown-documentation-export-)
**Capabilities**: [CAP-011](#cap-011-subdomain-classification)
**User Stories**: [US-037](#us-037-classify-bounded-contexts-by-subdomain-type)

---

### [ROAD-016] Interactive Context Map Diagram âœ…
**Status**: Complete
**Priority**: Critical
**Phase**: 3 â€” API, Scanner, Visualization & Domain Tooling
**Created**: 2026-02-06

SVG-based interactive context map with colored nodes, relationship paths with DDD pattern labels, hover highlighting, click-to-select detail panels, and subdomain-based color coding.

- ğŸ¯ Build reusable SVG canvas component with pan/zoom
- ğŸ¯ Implement auto-layout algorithm for context node positioning
- ğŸ¯ Render relationship paths with DDD pattern labels (Customer-Supplier, Conformist, ACL, etc.)
- ğŸ¯ Add hover highlighting (dim unrelated, brighten connected)
- ğŸ¯ Add click-to-select with detail panel (description, relationships, artifact counts)
- ğŸ¯ Color-code by subdomain type (Core=blue, Supporting=green, Generic=gray, External=dark)
- ğŸ¯ Support dark mode and keyboard navigation with ARIA labels

**Requires**: [ROAD-009](#road-009-governance--ddd-web-visualization-), [ROAD-020](#road-020-subdomain-classification-system-)
**Enables**: [ROAD-022](#road-022-static-documentation-site-generator-)
**Capabilities**: [CAP-010](#cap-010-interactive-domain-visualization-engine)
**User Stories**: [US-033](#us-033-visualize-context-map-as-interactive-svg-diagram)

---

### [ROAD-017] Aggregate Tree Hierarchy View âœ…
**Status**: Complete
**Priority**: High
**Phase**: 3 â€” API, Scanner, Visualization & Domain Tooling
**Created**: 2026-02-06
**Completed**: 2026-02-12

Collapsible tree view for aggregate structure exploration. Shows hierarchical relationships between roots, entities, value objects, and fields with type badges, optional indicators, and hover descriptions.

- ğŸ¯ Build recursive tree node component with expand/collapse
- ğŸ¯ Color-coded type badges (Aggregate=blue, Entity=purple, Value Object=green, List=amber)
- ğŸ¯ Inline data type annotations (`: str`, `: UUID`, `: date`)
- ğŸ¯ Optional field indicators and hover descriptions
- ğŸ¯ Expand All / Collapse All controls
- ğŸ¯ Group by bounded context with context headers
- ğŸ¯ Dark mode support

**Requires**: [ROAD-009](#road-009-governance--ddd-web-visualization-)
**Enables**: [ROAD-022](#road-022-static-documentation-site-generator-)
**Capabilities**: [CAP-010](#cap-010-interactive-domain-visualization-engine)
**User Stories**: [US-034](#us-034-explore-aggregate-hierarchy-as-collapsible-tree)

---

### [ROAD-018] Domain Event Flow Visualization âœ…
**Status**: Complete
**Priority**: Medium
**Phase**: 3 â€” API, Scanner, Visualization & Domain Tooling
**Created**: 2026-02-06
**Completed**: 2026-02-12

Step-by-step event flow timeline with category color coding, sync/async filtering, and click-to-expand detail cards. Includes summary grid of all events.

- âœ… Build vertical timeline event flow component (EventFlowView.tsx, 533 lines)
- âœ… Category color coding derived from bounded context association (5-color rotating palette)
- âœ… Filter toggle: All / Synchronous / Asynchronous (pill-style buttons)
- âœ… Click-to-expand detail panel (trigger, effect, timing, payload, consumers)
- âœ… Async badge on cross-context events
- âœ… Summary grid with all events as clickable chips
- âœ… Dark mode support
- âœ… BDD: 5/5 hybrid scenarios passing

**Requires**: [ROAD-009](#road-009-governance--ddd-web-visualization-)
**Enables**: [ROAD-022](#road-022-static-documentation-site-generator-)
**Capabilities**: [CAP-010](#cap-010-interactive-domain-visualization-engine)
**User Stories**: [US-036](#us-036-browse-domain-events-as-flow-timeline)

---

### [ROAD-019] Application Lifecycle State Machine View âœ…
**Status**: Complete
**Priority**: Medium
**Phase**: 3 â€” API, Scanner, Visualization & Domain Tooling
**Created**: 2026-02-06
**Completed**: 2026-02-12

SVG state machine visualization for domain workflows with positioned state nodes, transition arrows, sync/async distinction, terminal/error marking, and interactive detail panels. New DomainWorkflow API entity with CRUD endpoints.

- âœ… Design DomainWorkflow API model (states, transitions, sync/async, terminal/error)
- âœ… Add API endpoints for workflow CRUD (POST/GET/DELETE)
- âœ… Build SVG state machine renderer with positioned nodes (WorkflowView.tsx)
- âœ… Solid lines for sync transitions, dashed for async
- âœ… Terminal/error state badges
- âœ… Hover highlighting and click detail panels
- âœ… Dark mode support
- âœ… BDD: 7/7 scenarios passing (3 API + 4 hybrid)

**Requires**: [ROAD-009](#road-009-governance--ddd-web-visualization-)
**Enables**: [ROAD-022](#road-022-static-documentation-site-generator-)
**Capabilities**: [CAP-010](#cap-010-interactive-domain-visualization-engine)
**User Stories**: [US-035](#us-035-view-application-lifecycle-state-machine), [US-042](#us-042), [US-043](#us-043)

---

### [ROAD-021] Markdown Documentation Export ğŸ¯
**Status**: Proposed
**Priority**: High
**Phase**: 3 â€” API, Scanner, Visualization & Domain Tooling
**Created**: 2026-02-06

Export the domain model as a downloadable zip of professional-quality markdown documentation files (glossary, subdomains, context-map, bounded-contexts, aggregates, domain-events).

- ğŸ¯ Build markdown generation engine for each document type
- ğŸ¯ Generate ASCII art context map diagram
- ğŸ¯ Add "Export as Markdown" button to UI
- ğŸ¯ Generate zip with JSZip (client-side)
- ğŸ¯ Include generated-by header with timestamp
- ğŸ¯ Ensure CommonMark validity with proper heading hierarchy

**Requires**: [ROAD-009](#road-009-governance--ddd-web-visualization-), [ROAD-020](#road-020-subdomain-classification-system-)
**Enables**: [ROAD-022](#road-022-static-documentation-site-generator-)
**Capabilities**: [CAP-012](#cap-012-domain-model-export-pipeline)
**User Stories**: [US-038](#us-038-export-domain-model-as-markdown-documentation)

---

### [ROAD-022] Static Documentation Site Generator ğŸ¯
**Status**: Proposed
**Priority**: Medium
**Phase**: 3 â€” API, Scanner, Visualization & Domain Tooling
**Created**: 2026-02-06

Generate a standalone Vite + React + Tailwind site from a domain model with interactive visualizations, deployable to any static host. Capstone feature that combines all visualization components.

- ğŸ¯ Create site template project (Vite + React + Tailwind)
- ğŸ¯ Build data injection pipeline (bake domain model JSON into template)
- ğŸ¯ Port visualization components as self-contained, data-driven modules
- ğŸ¯ Add "Generate Site" button to Katalyst UI
- ğŸ¯ Include "How It Was Generated" page
- ğŸ¯ Include deployment instructions (Netlify, Vercel, GitHub Pages)
- ğŸ¯ Ensure build output under 5MB

**Requires**: [ROAD-016](#road-016-interactive-context-map-diagram-), [ROAD-017](#road-017-aggregate-tree-hierarchy-view-), [ROAD-018](#road-018-domain-event-flow-visualization-), [ROAD-019](#road-019-application-lifecycle-state-machine-view-), [ROAD-020](#road-020-subdomain-classification-system-), [ROAD-021](#road-021-markdown-documentation-export-)
**Enables**: None (capstone)
**Capabilities**: [CAP-010](#cap-010-interactive-domain-visualization-engine), [CAP-012](#cap-012-domain-model-export-pipeline)
**User Stories**: [US-039](#us-039-generate-standalone-static-documentation-site)

---

### [ROAD-023] Onboarding & How It Works Experience ğŸ¯
**Status**: Proposed
**Priority**: Medium
**Phase**: 3 â€” API, Scanner, Visualization & Domain Tooling
**Created**: 2026-02-06

"How It Works" page explaining the 4-phase Domain Mapper workflow (Intake, Discovery, Facilitation, Documentation), Human-in-the-Loop rationale, output artifacts, and quick-start guidance.

- ğŸ¯ Build "How It Works" page with 4-phase visual workflow
- ğŸ¯ Expandable phase detail sections
- ğŸ¯ "Why Human-in-the-Loop?" explanation section
- ğŸ¯ Output artifacts list
- ğŸ¯ Quick-start guidance panel
- ğŸ¯ First-visit banner detection
- ğŸ¯ Add to sidebar navigation

**Requires**: [ROAD-009](#road-009-governance--ddd-web-visualization-)
**Enables**: None (standalone UX improvement)
**Capabilities**: [CAP-010](#cap-010-interactive-domain-visualization-engine)
**User Stories**: [US-040](#us-040-view-domain-mapper-onboarding-and-workflow-guide)

---

### [ROAD-025] Fix Aggregates View Dark Mode Text Rendering âœ…
**Status**: Complete
**Priority**: Medium
**Phase**: 3 â€” API, Scanner, Visualization & Domain Tooling
**Created**: 2026-02-12
**Completed**: 2026-02-12

Fixed dark mode styling across the Aggregates view and other components. The original issue in `AggregatesView.tsx` was resolved when ROAD-017 replaced it with `AggregateTreeView.tsx` (which has proper `dark:` variants). Cleaned up dead code and fixed invalid `dark:bg-gray-750` Tailwind classes across 3 components.

- âœ… Audited `AggregateTreeView.tsx` â€” all dark mode classes correct
- âœ… Audited `TreeNode.tsx` â€” proper `dark:text-*` and `dark:bg-*` on all elements
- âœ… Deleted unused legacy `AggregatesView.tsx` (contained the original bug)
- âœ… Fixed invalid `dark:bg-gray-750` â†’ `dark:bg-gray-700` in DDDChat, GapsTable, FindingsTable
- âœ… Visual verification in both light and dark modes (screenshots captured)

**NFR**: NFR-ACC (Accessibility) â€” text contrast verified meets WCAG AA
**Requires**: [ROAD-017](#road-017-aggregate-tree-hierarchy-view-) (already complete)
**Enables**: None (technical debt fix)

---

### [ROAD-027] Hexagonal Architecture Extraction & BDD Test Stability âœ…
**Status**: Complete
**Priority**: Critical
**Phase**: 3 â€” API, Scanner, Visualization & Domain Tooling
**Created**: 2026-02-12
**Completed**: 2026-02-12
**Completed**: 2026-02-12

The domain-modeling bounded context (`domain-models.ts`, 772 lines) bypasses the hexagonal architecture that the rest of the codebase follows â€” raw Drizzle queries inline in route handlers, no domain layer, no port interfaces, no adapters, no use cases. Flagged during ROAD-019 architecture review (score: 52/100). Additionally, 18 BDD tests are failing due to stale test data from a now-fixed cleanup auth bug that left orphaned records with hardcoded UUIDs.

**Architecture Extraction:**
- ğŸ¯ Create `DomainModelRepository` port interface with all CRUD operations
- ğŸ¯ Create `DomainModelRepositorySQLite` adapter implementing the port
- ğŸ¯ Extract 5 use cases: `CreateDomainModel`, `GetDomainModelWithArtifacts`, `CreateWorkflow`, `DeleteWorkflow`, `DeleteDomainModel`
- ğŸ¯ Create domain objects with workflow state machine validation (no orphan transitions, no duplicate state IDs)
- ğŸ¯ Slim `domain-models.ts` from 772 lines to ~200 lines (thin HTTP layer)
- ğŸ¯ Update container wiring to pass ports/use cases instead of raw `db` handle

**BDD Test Stability:**
- ğŸ¯ Reset Docker volume to clear stale test data from broken cleanup runs
- ğŸ¯ Fix report ingestion tests: 16 failures from `UNIQUE constraint failed: scans.id` (hardcoded UUIDs colliding with orphaned data)
- ğŸ¯ Fix governance dashboard test: 1 failure from stale governance data breaking empty-state assertion
- ğŸ¯ Add test isolation: database reset or dynamic UUIDs to prevent cross-run data leakage
- ğŸ¯ Achieve 123/123 BDD tests passing on clean runs

**Requires**: [ROAD-009](#road-009-governance--ddd-web-visualization-), [ROAD-019](#road-019-application-lifecycle-state-machine-view-)
**Enables**: [ROAD-022](#road-022-static-documentation-site-generator-) (cleaner domain model access)
**NFRs**: Architecture score â‰¥ 80/100 for domain-modeling bounded context

**Detailed Plan**: [ROAD-027.md](./roads/ROAD-027.md) | **Est. 3-5 days**

---

### [ROAD-028] DDD Terminology Explainer Tooltips ğŸ¯
**Status**: Proposed
**Priority**: Medium
**Phase**: 3 â€” API, Scanner, Visualization & Domain Tooling
**Created**: 2026-02-12

Add contextual info tooltips (â„¹ï¸ icon) next to DDD terminology throughout the Domain Mapper UI. Hovering reveals a plain-English explanation of the term, making the tool accessible to users unfamiliar with Domain-Driven Design concepts. Covers all views: Context Map, Aggregates, Events, Workflows, and Glossary.

- ğŸ¯ Create reusable `DDDTooltip` component â€” â„¹ï¸ icon that shows a popover on hover with term name, plain-English definition, and optional "Learn more" link
- ğŸ¯ Build DDD terminology dictionary â€” static data mapping ~15-20 terms to plain-English descriptions (Bounded Context, Aggregate, Entity, Value Object, Domain Event, Ubiquitous Language, Context Map, Upstream/Downstream, Anti-Corruption Layer, Customer-Supplier, Conformist, Shared Kernel, Core Domain, Supporting Subdomain, Generic Subdomain, Invariant, Command, Root Entity, etc.)
- ğŸ¯ Add tooltips to Context Map view â€” next to "Bounded Contexts" header, relationship pattern labels (ACL, Conformist, Customer-Supplier, etc.), subdomain type badges
- ğŸ¯ Add tooltips to Aggregates view â€” next to "Aggregates" header, "Root Entity", "Entities", "Value Objects", "Commands", "Events Emitted", "Invariants" section headers
- ğŸ¯ Add tooltips to Events view â€” next to "Domain Events" header, sync/async badges, "Trigger", "Effect" labels in detail cards
- ğŸ¯ Add tooltips to Workflows view â€” next to "State Machine" header, transition terminology
- ğŸ¯ Add tooltips to Glossary view â€” next to "Ubiquitous Language" header
- ğŸ¯ Ensure tooltips work on both hover (desktop) and tap (mobile/touch)
- ğŸ¯ Support dark mode with appropriate tooltip background/text contrast
- ğŸ¯ Tooltips should be dismissable and not block interaction with underlying elements
- ğŸ¯ Add user preference to hide tooltips (localStorage toggle for experienced DDD users)

**Requires**: [ROAD-009](#road-009-governance--ddd-web-visualization-) (visualization foundation)
**Enables**: [ROAD-023](#road-023-onboarding--how-it-works-experience-) (complements onboarding)
**Capabilities**: [CAP-010](#cap-010-interactive-domain-visualization-engine)
**User Stories**: [US-044](#us-044-view-ddd-terminology-explanations-in-context)

---

### [ROAD-029] Fix Model Selection Not Persisting Across Page Refresh âœ…
**Status**: Complete
**Priority**: High
**Phase**: 3 â€” API, Scanner, Visualization & Domain Tooling
**Created**: 2026-02-12

When a DDD domain model is selected (e.g., Waters) and the page is refreshed, the previously selected model is lost and the UI auto-selects the first model in the API response list (e.g., OPR) instead. Root cause: `DomainMapperPage.tsx` line 48 always selects `list[0]` on mount with no persistence of the user's selection.

- ğŸ¯ Persist selected model ID to `localStorage` (or URL search params) when a model is selected
- ğŸ¯ On page load, read persisted model ID and re-select that model instead of defaulting to `list[0]`
- ğŸ¯ Handle edge case: persisted model ID no longer exists (deleted) â€” fall back to `list[0]`
- ğŸ¯ Clear persisted selection when model is explicitly deleted
- ğŸ¯ Consider using URL route param (`/mapper/:modelId/chat`) for deep-linkable model selection

**NFR**: NFR-UX â€” User state should survive page refresh
**Requires**: [ROAD-009](#road-009-governance--ddd-web-visualization-) (already complete)
**Enables**: None (UX bug fix)

---

### [ROAD-030] FOE Project Browser & Persistent Report Selection ğŸ¯
**Status**: Proposed
**Priority**: High
**Phase**: 3 â€” API, Scanner, Visualization & Domain Tooling
**Created**: 2026-02-12

Redesign the FOE Reports page to follow the same project-oriented pattern as the Domain Mapper. Currently, `ReportsPage.tsx` is a one-shot upload/view â€” load a report, see it, reset to load another. There's no concept of persistent projects, no ability to browse previously scanned repositories, and no sub-navigation between report sections. This item transforms the Reports experience into a multi-project browser mirroring the `DomainMapperPage` pattern.

- ğŸ¯ Create `FOEProjectListPage` component â€” lists all scanned projects from the API (name, last scan date, maturity level, overall score) similar to `DomainModelList`
- ğŸ¯ Add project selection state with persistence â€” selected project ID stored in `localStorage` or URL param (`/reports/:projectId`) to survive page refresh
- ğŸ¯ Create project detail layout with sub-navigation tabs: Overview, Dimensions, Triangle, Strengths, Gaps (mirroring the mapper's Chat/Contexts/Aggregates/Events/Workflows/Glossary tabs)
- ğŸ¯ Add "Switch Project" button in header (like mapper's "Switch Model" button)
- ğŸ¯ Retain upload and scan-directory as entry points â€” uploaded/scanned reports auto-create a project entry
- ğŸ¯ Support multiple scans per project with scan history timeline (view latest or compare)
- ğŸ¯ Add project creation flow: name a project, then scan or upload its first report
- ğŸ¯ Handle deleted/missing projects gracefully â€” fall back to project list
- ğŸ¯ Responsive design + dark mode parity with existing mapper UI

**Requires**: [ROAD-005](#road-005-api-governance-domain-) (API endpoints for report persistence)
**Enables**: [ROAD-031](#road-031-foe-assessment-agent-chat-interface-) (chat needs project context)

---

### [ROAD-031] FOE Assessment Agent Chat Interface ğŸ¯
**Status**: Proposed
**Priority**: High
**Phase**: 3 â€” API, Scanner, Visualization & Domain Tooling
**Created**: 2026-02-12

Add an AI agent chat tab to the FOE Reports view, mirroring the `DDDChat` component from the Domain Mapper. Users can have a conversation with an FOE coaching agent that has full context of their scan report â€” asking about specific findings, getting prioritized improvement recommendations, deep-diving into dimension scores, and receiving actionable next steps. Uses the same OpenCode SSE streaming infrastructure as DDDChat.

- ğŸ¯ Create `FOEChat` component â€” modeled after `DDDChat.tsx` with SSE streaming, markdown rendering, question cards, and the same send/receive UX
- ğŸ¯ Build FOE context preamble â€” inject active report data (scores, dimensions, findings, gaps, triangle diagnosis) into the first message so the agent has full context
- ğŸ¯ Create or configure `foe-assessment-coach` OpenCode agent â€” system prompt tuned for FOE coaching: explain scores, suggest improvements, reference Field Guide methods, prioritize interventions
- ğŸ¯ Add "Chat" tab to FOE project sub-navigation (alongside Overview, Dimensions, Triangle, etc.)
- ğŸ¯ Starter suggestions: "Why is my Feedback score low?", "What should I improve first?", "Explain the cognitive triangle diagnosis", "How can I improve test confidence?"
- ğŸ¯ Support follow-up conversations that reference specific findings/gaps from the report
- ğŸ¯ Reuse OpenCode client infrastructure (`opencode-client.ts`, `subscribeToEvents`, `sendPromptAsync`)
- ğŸ¯ Handle not-connected state (OpenCode server down) with retry, matching DDDChat pattern
- ğŸ¯ Dark mode support and responsive design

**Requires**: [ROAD-030](#road-030-foe-project-browser--persistent-report-selection-) (needs project context), [ROAD-015](#road-015-sse-streaming-for-real-time-agent-responses-) (SSE infrastructure)
**Enables**: None (standalone feature)

---

### [ROAD-032] Clickable Artifact Counts in Context Detail Panel ğŸ¯
**Status**: Proposed
**Priority**: Medium
**Phase**: 3 â€” API, Scanner, Visualization & Domain Tooling
**Created**: 2026-02-12

The Context Map detail panel (`ContextDetailPanel.tsx`) shows artifact counts for Aggregates, Events, Value Objects, and Glossary Terms as static tiles. These should be clickable buttons that navigate to the corresponding tab view, letting users jump directly from a bounded context's summary to its artifacts.

- ğŸ¯ Convert the 4 artifact count tiles from `<div>` to `<button>` with `useNavigate` from react-router-dom
- ğŸ¯ Aggregates button navigates to `/mapper/aggregates`
- ğŸ¯ Events button navigates to `/mapper/events`
- ğŸ¯ Value Objects button navigates to `/mapper/aggregates` (value objects are displayed within the aggregate tree view)
- ğŸ¯ Glossary Terms button navigates to `/mapper/glossary`
- ğŸ¯ Add hover styling (purple tint + ring) to indicate interactivity
- ğŸ¯ Ensure keyboard accessibility (focusable, Enter/Space triggers navigation)

**Requires**: [ROAD-009](#road-009-governance--ddd-web-visualization-) (already complete)
**Enables**: None (UX enhancement)

---

### [ROAD-033] Aggregate Tree Filtering & Search ğŸ¯
**Status**: Proposed
**Priority**: Medium
**Phase**: 3 â€” API, Scanner, Visualization & Domain Tooling
**Created**: 2026-02-12

Add search and filtering capabilities to the Aggregate Tree View (`AggregateTreeView.tsx`). A debounced text search matches against aggregate names, entities, value objects, commands, events, and invariants. A bounded context dropdown filters to a single context. Artifact type filter pills toggle visibility by whether an aggregate contains Commands, Events, Value Objects, or Invariants. Matching nodes auto-expand and highlight matched text. Composable AND logic across all filter dimensions.

- ğŸ¯ Add debounced search input to AggregateTreeView header â€” text search matching against aggregate names, entity names, value object names, command names, event names, and invariant rules
- ğŸ¯ Add bounded context dropdown filter â€” "All Contexts" default, options for each context with aggregates
- ğŸ¯ Add artifact type filter pills â€” multi-select toggles for Commands, Events, Value Objects, Invariants (filter to aggregates containing selected types)
- ğŸ¯ Auto-expand matching tree nodes when search is active â€” collapsed nodes with matches expand to reveal hits
- ğŸ¯ Highlight matching text within tree node labels when search query is active
- ğŸ¯ Show filtered result count â€” "Showing X of Y aggregates" in header subtitle
- ğŸ¯ Add "Clear all" button â€” reset search and all filters to show all aggregates
- ğŸ¯ Persist filter state across tab switches (React state or URL search params)
- ğŸ¯ Dark mode support for all filter controls (search input, dropdown, filter pills)
- ğŸ¯ Keyboard accessibility â€” search input focusable, filter pills toggleable via Enter/Space, dropdown navigable

**Requires**: [ROAD-017](#road-017-aggregate-tree-hierarchy-view-) (already complete)
**Enables**: None (UX enhancement)
**Capabilities**: [CAP-010](#cap-010-interactive-domain-visualization-engine)
**User Stories**: [US-045](#us-045-filter-and-search-aggregates-in-tree-view)

---

### [ROAD-034] Fix Markdown Rendering in DDDChat Question Answers ğŸ¯
**Status**: Proposed
**Priority**: High
**Phase**: 3 â€” API, Scanner, Visualization & Domain Tooling
**Created**: 2026-02-12

When the user answers an agent question card in DDDChat, the selected answer is inserted as a user message with markdown formatting (e.g., `**Create Workflows?**: Yes, discover workflows`). However, user messages are rendered with plain `whitespace-pre-wrap` (`DDDChat.tsx` line 513) instead of being passed through `<Markdown>` like assistant messages. This causes raw `**bold**` syntax to display literally in the purple user bubble instead of rendering as bold text.

- ğŸ¯ Render question-answer user messages through `<Markdown>` component (or a lightweight inline markdown parser) so `**bold**` syntax renders correctly in the purple user bubble
- ğŸ¯ Scope markdown rendering to answer messages only â€” regular typed user messages should remain plain text to avoid unintended formatting
- ğŸ¯ Ensure prose styles are adapted for user bubble context (white text on purple background, not the assistant's dark-on-light prose)
- ğŸ¯ Verify rendering for multi-question answers (multiple `**Header**: answer` lines joined with newlines)
- ğŸ¯ Add visual regression test or BDD scenario confirming bold text renders in answered question bubbles

**NFR**: NFR-UX â€” Chat messages should render formatted text correctly
**Requires**: [ROAD-009](#road-009-governance--ddd-web-visualization-) (already complete)
**Enables**: None (UX bug fix)

---

### [ROAD-035] Chat Session Persistence & Live Data Refresh ğŸ¯
**Status**: Proposed
**Priority**: High
**Phase**: 3 â€” API, Scanner, Visualization & Domain Tooling
**Created**: 2026-02-12

Two related UX issues in the Domain Mapper chat experience:

**1. Chat history lost on tab switch.** `DDDChat.tsx` stores messages in component-local `useState` (line 51). When the user navigates to another tab (e.g., Workflows, Aggregates) and back, React unmounts/remounts the component and all conversation history is destroyed. The user loses their entire chat session context â€” questions asked, artifacts discovered, agent recommendations â€” just by clicking a tab.

**2. Views don't reflect chat-created artifacts until manual refresh.** The DDD agent creates artifacts (bounded contexts, aggregates, events, workflows) via API calls during chat. However, `DDDChat` never calls its `onModelUpdated` prop (defined on line 30, never invoked), and `DomainMapperPage` only fetches model data once on mount. So when chat creates workflows and the user navigates to `/mapper/workflows`, the page shows "No workflows defined yet" because `activeModel` still holds stale data.

**Chat Persistence:**
- ğŸ¯ Lift chat state out of `DDDChat` component â€” use React context, Zustand store, or `sessionStorage` to persist messages, session ID, and pending question state across tab switches
- ğŸ¯ Preserve OpenCode session ID across remounts so the conversation can continue without creating a new session
- ğŸ¯ Restore scroll position when returning to the chat tab
- ğŸ¯ Persist chat history per model ID (switching models should show that model's conversation)
- ğŸ¯ Clear persisted chat when model is deleted or user explicitly starts a new conversation

**Live Data Refresh:**
- ğŸ¯ Call `onModelUpdated()` in `DDDChat` when the agent signals it has created/modified artifacts â€” detect artifact creation from SSE events (e.g., `session.completed` or tool call results indicating API mutations)
- ğŸ¯ Add automatic model data refresh on tab navigation â€” when user clicks a sub-nav tab (Workflows, Aggregates, etc.), trigger `refreshModel()` so the view shows the latest API data
- ğŸ¯ Consider lightweight polling or SSE subscription in `DomainMapperPage` to detect external model changes (e.g., agent running in background while user browses other tabs)
- ğŸ¯ Show a subtle "New data available" toast/banner if data changes while viewing a non-chat tab, with a "Refresh" action
- ğŸ¯ Ensure stale data never persists â€” navigating to any view tab always shows current API state

**NFR**: NFR-UX â€” Chat state should survive in-page navigation; views should reflect the latest data
**Requires**: [ROAD-009](#road-009-governance--ddd-web-visualization-) (already complete)
**Enables**: None (critical UX fix)

---

### [ROAD-036] Fix Workflow State Machine Diagram Text Readability ğŸ¯
**Status**: Proposed
**Priority**: Critical
**Phase**: 3 â€” API, Scanner, Visualization & Domain Tooling
**Created**: 2026-02-13

The workflow state machine visualization (`WorkflowView.tsx`) has severe readability issues that violate NFR-ACC (Accessibility) and NFR-UX requirements. Transition labels overlap each other, have insufficient text contrast against the dark background, and are poorly positioned relative to transition arrows. The screenshot shows "VerifyAndActivate", "SuspendForNonPayment", "SetDelinquentActivate", "EscalateToDelinquent", and other labels colliding in an unreadable cluster. This makes the workflow diagrams effectively unusable for understanding application lifecycle state machines.

**Identified Issues:**
- **Label Overlap**: Multiple transition arrows have labels that overlap each other (e.g., between Activeâ†”Suspended, Activeâ†’Delinquent, Suspendedâ†’Delinquent)
- **Poor Text Contrast**: Transition label text has insufficient contrast against the dark background (WCAG AA failure)
- **Inadequate Label Positioning**: Labels positioned directly on top of arrows in cluttered areas compound the readability problem
- **Layout Density**: Too many transitions in tight vertical/horizontal space without strategic label offset

**Tasks:**
- ğŸ¯ **Improve label positioning algorithm** â€” implement smart label placement that detects and avoids overlaps (offset labels perpendicular to arrow direction, use bezier path midpoint calculations)
- ğŸ¯ **Enhance text contrast** â€” add semi-transparent background rectangles behind transition labels (white bg with 80% opacity in light mode, dark gray with 90% opacity in dark mode) to ensure WCAG AA compliance (minimum 4.5:1 contrast ratio)
- ğŸ¯ **Add label collision detection** â€” implement bounding box collision detection and automatic label repositioning when overlaps are detected
- ğŸ¯ **Optimize arrow routing** â€” consider curved/bezier arrows for bidirectional transitions (e.g., Activeâ†”Suspended) to create more label placement space
- ğŸ¯ **Add interactive label repositioning** â€” allow users to drag transition labels to custom positions (persist to API model) for complex diagrams where automatic placement fails
- ğŸ¯ **Implement label toggle** â€” add UI control to show/hide transition labels temporarily for users who want to see the state machine structure without text clutter
- ğŸ¯ **Add zoom/pan support** â€” enhance existing SVG canvas with better zoom controls to let users magnify crowded diagram regions
- ğŸ¯ **Audit all dark mode text contrast** â€” verify WCAG AA compliance (4.5:1) for all text elements in workflow diagrams across both light and dark modes
- ğŸ¯ **Add BDD scenarios** â€” create accessibility test scenarios verifying label readability (contrast ratios, no overlaps, readable at 100% zoom)

**NFRs**: 
- NFR-ACC (Accessibility) â€” WCAG AA text contrast (4.5:1 minimum)
- NFR-UX â€” Diagrams must be readable without manual zooming or guesswork

**Requires**: [ROAD-019](#road-019-application-lifecycle-state-machine-view-) (already complete)
**Enables**: [ROAD-022](#road-022-static-documentation-site-generator-) (ensures exported diagrams are readable)
**Capabilities**: [CAP-010](#cap-010-interactive-domain-visualization-engine)
**Related Issues**: Similar to [ROAD-025](#road-025-fix-aggregates-view-dark-mode-text-rendering-) (dark mode text contrast fix)

---

### [ROAD-037] Enhance Chat Tab with AI Branding & Right Justification ğŸ¯
**Status**: Proposed
**Priority**: Medium
**Phase**: 3 â€” API, Scanner, Visualization & Domain Tooling
**Created**: 2026-02-13

The Chat tab in the Domain Mapper navigation (`DomainMapperPage.tsx`) currently uses a generic speech bubble icon and is left-aligned with all other tabs. This doesn't communicate that it's an AI-powered feature, and the positioning doesn't emphasize its special nature as an intelligent assistant. Enhance the chat tab to stand out with AI-specific iconography, right-aligned positioning, and clear "Prima Powered" branding to signal it's a conversational AI feature distinct from the standard document tabs.

**Current State:**
- Chat tab positioned leftmost in tab bar with speech bubble icon (`ğŸ’¬` or `<MessageSquare>`)
- No visual distinction from other navigation tabs
- No indication that it's AI-powered or Prima-branded
- Consistent with other tabs in size, color, and positioning

**Proposed Changes:**
- Move Chat tab to **right side** of navigation bar (separated from document tabs)
- Replace speech bubble icon with **sparkle/star icon** (`âœ¨` or Lucide's `Sparkles` component) â€” universal AI indicator
- Add **"Prima Powered"** text annotation below or beside the Chat label (small, muted text)
- Subtle visual separator (vertical divider or extra spacing) between document tabs and AI chat
- Optional: Add pulsing/shimmer effect to sparkle icon when chat is active

**Tasks:**
- ğŸ¯ **Update tab layout in `DomainMapperPage.tsx`** â€” restructure tab container to separate left-aligned document tabs (Context Map, Aggregates, Events, Workflows, Glossary) from right-aligned AI chat
- ğŸ¯ **Replace chat icon with Sparkles** â€” change from `<MessageSquare>` to `<Sparkles>` icon from Lucide React
- ğŸ¯ **Add "Prima Powered" branding** â€” insert small text annotation (e.g., `<span className="text-xs text-gray-500 dark:text-gray-400 ml-1">Prima Powered</span>`) next to Chat label
- ğŸ¯ **Add visual separator** â€” insert subtle vertical divider (1px border or increased gap) between document tabs and chat tab
- ğŸ¯ **Responsive design** â€” ensure right-aligned chat works on mobile (consider collapsing to icon-only or moving to overflow menu on narrow screens)
- ğŸ¯ **Dark mode styling** â€” verify Prima Powered text, separator, and sparkle icon have appropriate contrast in both light and dark modes
- ğŸ¯ **Hover/active states** â€” ensure sparkle icon and branding maintain consistent styling with active tab purple underline treatment
- ğŸ¯ **Optional: Add subtle animation** â€” consider pulsing or shimmer effect on sparkle icon when chat session is active (low priority)

**Design Notes:**
- Right-justification emphasizes chat as a special "assistant" feature rather than just another document view
- Sparkle icon universally recognized as AI/magic (used by ChatGPT, Notion AI, GitHub Copilot, etc.)
- "Prima Powered" credits the Prima delivery framework AI capabilities
- Visual separation prevents user confusion about chat being a document type

**NFR**: NFR-UX â€” UI should clearly communicate AI-powered features
**Requires**: [ROAD-009](#road-009-governance--ddd-web-visualization-) (already complete)
**Enables**: None (standalone UX enhancement)
**Capabilities**: [CAP-010](#cap-010-interactive-domain-visualization-engine)
**Related**: Could extend to FOE Reports chat tab when [ROAD-031](#road-031-foe-assessment-agent-chat-interface-) is implemented

---

### [ROAD-038] Filter Glossary Terms by Clickable Tags ğŸ¯
**Status**: Proposed
**Priority**: Medium
**Phase**: 3 â€” API, Scanner, Visualization & Domain Tooling
**Created**: 2026-02-13

Make alias tags in the Ubiquitous Language glossary clickable to filter terms. Users can select multiple tags to apply AND logic filtering (term must have ALL selected tags). Enhances glossary usability for large domain models with 20+ terms by allowing quick filtering to domain concepts, aggregates, or bounded contexts (e.g., show only terms tagged "Citizen" or "Passport Processing").

**Current State:**
- Alias tags in GlossaryView are static badge components with no interactivity
- Users must manually scan the entire glossary list to find terms related to a specific concept
- No way to focus on terms belonging to a particular bounded context or aggregate

**Tasks:**
- ğŸ¯ Convert alias tag badges from static `<span>` elements to clickable `<button>` elements with hover states
- ğŸ¯ Add click handler to toggle tag selection state (multi-select with AND logic)
- ğŸ¯ Style selected tags with filled background/darker color to indicate active filter state
- ğŸ¯ Filter glossary term list to show only terms that have ALL selected tags
- ğŸ¯ Add "Clear filters" button in header that appears when any tag is active
- ğŸ¯ Update header subtitle to show "Showing X of Y terms" when filters are active
- ğŸ¯ Display empty state message ("No terms match the selected filters") if filtering results in zero terms
- ğŸ¯ Persist filter state when switching away from Glossary tab and back (React state or URL params)
- ğŸ¯ Ensure tag buttons render correctly in dark mode with appropriate contrast
- ğŸ¯ Add keyboard accessibility â€” tag buttons focusable, toggleable via Enter/Space

**Design Notes:**
- Follows the same multi-select AND logic pattern used in ROAD-033 (Aggregate Tree Filtering)
- Tags remain visible above the term list even when not selected to show available filter options
- Selected tags highlighted, unselected tags remain muted but clickable
- Clicking an already-active tag deselects it (toggle behavior)

**NFR**: NFR-UX â€” Interactive elements should provide immediate visual feedback; filters should compose logically
**Requires**: [ROAD-009](#road-009-governance--ddd-web-visualization-) (already complete)
**Enables**: None (UX enhancement)
**Capabilities**: [CAP-010](#cap-010-interactive-domain-visualization-engine), [CAP-009](#cap-009-ddd-domain-modeling-api)
**User Stories**: [US-046](#us-046-filter-glossary-terms-by-clickable-tags)

---

## Phase 4: Advanced External Integrations

> **Goal**: Connect the governance pipeline to external project management and documentation tools for bidirectional data flow. Extend scanner data sources beyond repository analysis.

### [ROAD-010] Jira Bidirectional Integration ğŸ¯
**Status**: Proposed
**Priority**: Medium
**Phase**: 4 â€” Advanced External Integrations
**Created**: 2026-02-05

Bidirectional sync between the governance pipeline and Jira. Import Jira data (issues, sprints, velocity, cycle time) to assess the Feedback dimension, and push governance artifacts (ROAD items, capabilities, user stories) back to Jira for project management tracking.

- ğŸ¯ Create Jira REST API client with OAuth 2.0 / API token authentication
- ğŸ¯ Import adapter: pull issues, sprints, velocity, and workflow data
- ğŸ¯ Map Jira issues â†’ governance artifacts (ROAD items, user stories, capabilities)
- ğŸ¯ Export adapter: push ROAD items and user stories as Jira issues
- ğŸ¯ Bidirectional sync engine with conflict resolution strategy
- ğŸ¯ Scanner enhancement: assess Feedback dimension from Jira metrics (cycle time, WIP, deployment frequency)
- ğŸ¯ CLI command: `jira:sync` â€” run bidirectional sync
- ğŸ¯ CLI command: `jira:import` â€” one-way import from Jira
- ğŸ¯ Configuration schema for Jira project mapping (`jira-config.json`)
- ğŸ¯ Integration tests with Jira API mocks

**Requires**: [ROAD-004](#road-004-governance-parsers-index-builder--cli-), [ROAD-005](#road-005-api-governance-domain-)
**Enables**: Enhanced Feedback dimension scoring with real project data
**Capabilities**: [CAP-005](#cap-005-jira-integration)
**User Stories**: [US-016](#us-016-sync-governance-artifacts-to-jira), [US-017](#us-017-import-jira-metrics-for-scanning)
**BDD Features**: `api/jira/01_jira_sync.feature` (7 scenarios), `hybrid/integrations/01_jira_e2e.feature` (2 scenarios)

---

### [ROAD-011] Confluence Bidirectional Integration ğŸ¯
**Status**: Proposed
**Priority**: Medium
**Phase**: 4 â€” Advanced External Integrations
**Created**: 2026-02-05

Bidirectional sync between the governance pipeline and Confluence. Import Confluence content (wiki pages, ADRs, runbooks, design docs) to assess the Understanding dimension, and publish governance reports, roadmaps, and DDD artifacts back to Confluence for team visibility.

- ğŸ¯ Create Confluence REST API client with OAuth 2.0 / API token authentication
- ğŸ¯ Import adapter: pull wiki pages, ADRs, runbooks, and design documentation
- ğŸ¯ Map Confluence pages â†’ governance artifacts (ADRs, documentation coverage metrics)
- ğŸ¯ Export adapter: publish governance dashboard, roadmap, and DDD context maps to Confluence spaces
- ğŸ¯ Bidirectional sync engine with conflict resolution and page versioning
- ğŸ¯ Scanner enhancement: assess Understanding dimension from Confluence content (doc freshness, coverage, quality)
- ğŸ¯ CLI command: `confluence:sync` â€” run bidirectional sync
- ğŸ¯ CLI command: `confluence:import` â€” one-way import from Confluence
- ğŸ¯ Configuration schema for Confluence space mapping (`confluence-config.json`)
- ğŸ¯ Integration tests with Confluence API mocks

**Requires**: [ROAD-004](#road-004-governance-parsers-index-builder--cli-), [ROAD-005](#road-005-api-governance-domain-)
**Enables**: Enhanced Understanding dimension scoring with real documentation data
**Capabilities**: [CAP-006](#cap-006-confluence-integration)
**User Stories**: [US-018](#us-018-sync-documentation-to-confluence), [US-019](#us-019-import-confluence-content-for-scanning)
**BDD Features**: `api/confluence/01_confluence_sync.feature` (9 scenarios), `hybrid/integrations/01_confluence_e2e.feature` (2 scenarios)

---

### [ROAD-012] GitHub Feedback Integration ğŸ¯
**Status**: Proposed
**Priority**: Medium
**Phase**: 4 â€” Advanced External Integrations
**Created**: 2026-02-06

Import GitHub Actions/CI data to enrich the Feedback dimension: workflow run history, deployment frequency, build times, test results, release cadence, and failure rates. Uses GitHub App + PAT authentication.

- ğŸ¯ Create GitHub REST/GraphQL API client with App + PAT authentication
- ğŸ¯ Import adapter: pull Actions workflow runs, timing, and status
- ğŸ¯ Calculate deployment frequency from GitHub Releases + deployment events
- ğŸ¯ Calculate build failure rate and mean time to recovery from workflow data
- ğŸ¯ Import test result artifacts from Actions workflow runs
- ğŸ¯ Scanner enhancement: assess Feedback dimension from GitHub CI metrics
- ğŸ¯ CLI command: `github:import --feedback` â€” pull CI/deployment data
- ğŸ¯ Configuration schema for GitHub repo/org mapping (`github-config.json`)
- ğŸ¯ Integration tests with GitHub API mocks

**Requires**: [ROAD-004](#road-004-governance-parsers-index-builder--cli-), [ROAD-005](#road-005-api-governance-domain-)
**Enables**: Enhanced Feedback dimension scoring with real CI/CD performance data
**Capabilities**: [CAP-007](#cap-007-github-integration)
**User Stories**: [US-020](#us-020-import-github-actions-metrics), [US-021](#us-021-track-deployment-frequency-via-github)
**BDD Features**: `api/github/01_github_feedback.feature` (7 scenarios), `hybrid/integrations/02_github_feedback_e2e.feature` (2 scenarios)

---

### [ROAD-013] GitHub Understanding Integration ğŸ¯
**Status**: Proposed
**Priority**: Medium
**Phase**: 4 â€” Advanced External Integrations
**Created**: 2026-02-06

Import GitHub data to enrich the Understanding dimension: PR descriptions, commit message quality, README/docs presence, repo structure, wiki content, and ADR patterns. Publish governance reports back to GitHub Pages/wiki.

- ğŸ¯ Import adapter: pull PR descriptions, review comments, and discussion threads
- ğŸ¯ Assess commit message quality (Conventional Commits, linked issues, clarity)
- ğŸ¯ Assess documentation presence (README, CONTRIBUTING, CHANGELOG, ADRs, wiki)
- ğŸ¯ Map GitHub Issues/Discussions â†’ documentation gaps and knowledge artifacts
- ğŸ¯ Export adapter: publish governance reports to GitHub Pages or wiki
- ğŸ¯ Scanner enhancement: assess Understanding dimension from GitHub docs and PR quality
- ğŸ¯ CLI command: `github:import --understanding` â€” pull docs/PR data
- ğŸ¯ Integration tests with GitHub API mocks

**Requires**: [ROAD-004](#road-004-governance-parsers-index-builder--cli-), [ROAD-005](#road-005-api-governance-domain-)
**Enables**: Enhanced Understanding dimension scoring with GitHub documentation signals
**Capabilities**: [CAP-007](#cap-007-github-integration)
**User Stories**: [US-022](#us-022-import-github-docs-for-scanning), [US-023](#us-023-publish-governance-to-github)
**BDD Features**: `api/github/02_github_understanding.feature` (7 scenarios), `hybrid/integrations/02_github_understanding_e2e.feature` (2 scenarios)

---

### [ROAD-014] GitHub Confidence Integration ğŸ¯
**Status**: Proposed
**Priority**: Medium
**Phase**: 4 â€” Advanced External Integrations
**Created**: 2026-02-06

Import GitHub data to enrich the Confidence dimension: PR review quality, branch protection rules, code scanning/Dependabot alerts, required status checks, and merge policies.

- ğŸ¯ Import adapter: pull PR review data (approval rate, review depth, turnaround time)
- ğŸ¯ Assess branch protection rules (required reviews, status checks, signed commits)
- ğŸ¯ Import Dependabot/CodeQL security alerts and resolution metrics
- ğŸ¯ Assess merge policies (squash/merge/rebase, commit signing, linear history)
- ğŸ¯ Calculate code review coverage (% of PRs with substantive reviews)
- ğŸ¯ Scanner enhancement: assess Confidence dimension from GitHub quality gates
- ğŸ¯ CLI command: `github:import --confidence` â€” pull review/security data
- ğŸ¯ Integration tests with GitHub API mocks

**Requires**: [ROAD-004](#road-004-governance-parsers-index-builder--cli-), [ROAD-005](#road-005-api-governance-domain-)
**Enables**: Enhanced Confidence dimension scoring with GitHub quality and security signals
**Capabilities**: [CAP-007](#cap-007-github-integration)
**User Stories**: [US-024](#us-024-import-github-quality-signals), [US-025](#us-025-assess-branch-protection--security)
**BDD Features**: `api/github/03_github_confidence.feature` (7 scenarios), `hybrid/integrations/02_github_confidence_e2e.feature` (2 scenarios)

---

### [ROAD-026] External Roadmap Source: Jira & GitHub Projects ğŸ¯
**Status**: Proposed
**Priority**: High
**Phase**: 4 â€” Advanced External Integrations
**Created**: 2026-02-12

Enable Jira boards/epics and GitHub Projects as external roadmap sources, replacing the need to maintain ROADMAP.mdx manually. Teams manage their roadmap in the tool they already use; Katalyst imports and maps items into ROAD-XXX governance artifacts for tracking, validation, and visualization.

- ğŸ¯ Define `ExternalRoadmapSource` port interface (provider-agnostic adapter pattern)
- ğŸ¯ Create Jira roadmap adapter: map Jira epics/boards â†’ ROAD-XXX items (status, priority, tasks from subtasks)
- ğŸ¯ Create GitHub Projects adapter: map GitHub Projects v2 items â†’ ROAD-XXX items (status fields, custom fields for priority/phase)
- ğŸ¯ Implement field mapping configuration (`roadmap-source.json`) â€” map Jira/GitHub fields to ROAD schema fields
- ğŸ¯ Build sync engine: detect new, changed, and removed items on each import
- ğŸ¯ Conflict resolution: external tool is source of truth, local overrides flagged as drift
- ğŸ¯ CLI command: `roadmap:import --source jira|github` â€” one-way import from external source
- ğŸ¯ CLI command: `roadmap:diff` â€” show what would change without applying
- ğŸ¯ API endpoint: `POST /api/v1/roadmap/sync` â€” trigger import via API
- ğŸ¯ Generate `governance-index.json` with imported ROAD items (same output as local ROADMAP.mdx parser)
- ğŸ¯ Dashboard indicator showing roadmap source (local file vs. Jira vs. GitHub Projects)
- ğŸ¯ Integration tests with Jira and GitHub API mocks

**Requires**: [ROAD-004](#road-004-governance-parsers-index-builder--cli-), [ROAD-005](#road-005-api-governance-domain-), [ROAD-010](#road-010-jira-bidirectional-integration-) (Jira API client), [ROAD-012](#road-012-github-feedback-integration-) (GitHub API client)
**Enables**: Teams can use their preferred project management tool as the single source of truth for roadmap data
**Capabilities**: [CAP-005](#cap-005-jira-integration), [CAP-007](#cap-007-github-integration)
**User Stories**: [US-042](#us-042-import-roadmap-from-jira-epics-and-boards), [US-043](#us-043-import-roadmap-from-github-projects)

---

## Dependency Graph

```
Phase 0          Phase 1          Phase 2          Phase 3 (API, Scanner, Viz & Domain Tooling)        Phase 4
â”€â”€â”€â”€â”€â”€â”€â”€â”€        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚ ROAD-002 â”‚
                 â”‚ Schemas  â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â–ºâ”‚          â”‚â”€â”€â”€â”€â”€â”€â”
         â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”‚                        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ROAD-001â”‚â”‚                        â”œâ”€â–ºâ”‚ ROAD-004 â”‚â”€â–ºâ”‚  ROAD-024    â”‚â”€â–ºâ”‚ ROAD-005 â”‚â”€â–ºâ”‚  ROAD-020   â”‚
â”‚Import  â”‚â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚  â”‚ Parsers  â”‚  â”‚ CML Adapter  â”‚  â”‚ API      â”‚  â”‚  Subdomain  â”‚
â”‚Infra   â”‚â”œâ”€â–ºâ”‚ ROAD-003 â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ CLI      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  Classif.   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚ DDD      â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”€â”       â”‚               â”‚        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚       â”œâ”€â”€â”€â”€â”€â”€â”€â”˜        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
          â”‚                                â”‚       â”œâ–ºROAD-006       â”‚ ROAD-009 â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚       â”‚   Scanner      â”‚ Web Viz  â”‚  â”‚                  â”‚
          â””â”€â–ºâ”‚ ROAD-007 â”‚                  â”‚       â”œâ–ºROAD-008       â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
             â”‚ BDD      â”‚                  â”‚       â”‚   Integr.             â”‚       â”‚  â”‚ ROAD-016 â”‚   â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚       â”œâ–ºROAD-015              â–¼       â”‚  â”‚ Ctx Map  â”‚   â”‚
                                            â”‚       â”‚   SSE            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â”‚
                                            â”‚       â”‚                  â”‚ ROAD-017 â”‚â”‚       â”‚         â”‚
                                            â”‚       â”‚                  â”‚ Agg Tree â”‚â”‚       â–¼         â”‚
                                            â”‚       â”‚                  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
                                            â”‚       â”‚                       â”‚      â”‚  â”‚ ROAD-018 â”‚   â”‚
                                            â”‚       â”‚                  â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”â”‚  â”‚ Evt Flow â”‚   â”‚
                                            â”‚       â”‚                  â”‚ ROAD-019 â”‚â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â”‚
                                            â”‚       â”‚                  â”‚ State M. â”‚â”‚       â”‚         â”‚
                                            â”‚       â”‚                  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜â”‚       â–¼         â”‚
                                            â”‚       â”‚                       â”‚      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
                                            â”‚       â”‚                  â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”â”‚  â”‚ ROAD-021 â”‚â—„â”€â”€â”˜
                                            â”‚       â”‚                  â”‚ ROAD-022 â”‚â”‚  â”‚ MD Exportâ”‚
                                            â”‚       â”‚                  â”‚ Static   â”‚â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â”‚       â”‚                  â”‚ Site Gen â”‚â”‚
                                            â”‚       â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
                                            â”‚       â”‚                              â”‚
                                            â”‚       â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
                                            â”‚       â”‚   â”‚ ROAD-023 â”‚ Onboarding    â”‚
                                            â”‚       â”‚   â”‚ How It   â”‚ (standalone)  â”‚
                                            â”‚       â”‚   â”‚ Works    â”‚               â”‚
                                            â”‚       â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
                                            â”‚       â”‚                              â”‚
                                            â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                                                                      â”‚ ROAD-010 â”‚
                                                                                                      â”‚ Jira     â”‚
                                                                                                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                                                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                                                                      â”‚ ROAD-011 â”‚
                                                                                                      â”‚Confluenceâ”‚
                                                                                                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                                                      ROAD-012..014
                                                                                                      (GitHub Ã—3)
```

---

## Progressive Release Path

Each release swaps one layer of the old system with the new. Domain visualization and export are now integrated into Phase 3 for early delivery:

| Release | What Ships | Old System | New System | Agents |
|---------|-----------|------------|------------|--------|
| **0.1.0** | ROAD-001: Import infrastructure | All old scripts + agents running | Schemas exist (scan/field-guide only) | Use old conventions |
| **0.2.0** | ROAD-002 + 003: Governance + DDD schemas | Old scripts still validate | `@foe/schemas/governance` available | No change |
| **0.3.0** | ROAD-004: Parsers + index builder + CLI | Old scripts + new CLI both run in CI | `foe-field-guide build:governance` produces index | Agents start using `validate:governance` |
| **0.4.0** | ROAD-005: API governance endpoints | Old Docusaurus plugins still generate JSON | `POST /api/v1/governance` ingests index | Agents can query API |
| **0.5.0** | ROAD-008: Delivery framework integration | Plugins consume `governance-index.json` | Old plugins replaced | Agents use CLI as primary validation |
| **0.6.0** | Delete old governance scripts + ROAD-015 SSE | Gone | New system is sole authority, real-time streaming | Agents reference CLI/API exclusively, live progress |
| **0.7.0** | ROAD-006 + 009: Scanner + web viz foundation | N/A | Full pipeline: scan â†’ report â†’ governance â†’ viz | Governance agent scores governance health |
| **0.7.1** | ROAD-020: Subdomain classification | N/A | Subdomain types on bounded contexts, color coding | Context map diagram uses subdomain colors |
| **0.8.0** | ROAD-016 + 017: Context map + Aggregate tree | N/A | Interactive SVG context map, collapsible aggregate tree | DDD visualizations replace flat lists |
| **0.8.1** | ROAD-023 + 028: Onboarding + DDD tooltips | N/A | How It Works page, quick-start guidance, DDD terminology explainers | New user guidance and in-context DDD education |
| **0.9.0** | ROAD-018 + 019: Event flow + State machine | N/A | Event timeline, lifecycle state machine | Full DDD visualization suite |
| **0.10.0** | ROAD-021 + 022: Export pipeline + Static site | N/A | Markdown export, standalone React site generator | Domain docs in git, capstone feature |
| **0.11.0** | ROAD-010: Jira integration | N/A | Bidirectional Jira sync, Feedback dimension from Jira metrics | Agents can import/export Jira issues |
| **0.12.0** | ROAD-011: Confluence integration | N/A | Bidirectional Confluence sync, Understanding dimension from wiki | Agents can import/export Confluence pages |
| **0.13.0** | ROAD-012 + 013 + 014: GitHub integrations | N/A | Feedback + Understanding + Confidence from GitHub | Full GitHub signal integration |
| **0.14.0** | ROAD-026: External roadmap source | N/A | Jira epics & GitHub Projects as roadmap source of truth | Teams manage roadmap in existing tools, Katalyst imports |

---

## File Count Summary

| Phase | ROAD Items | New Files | Adapted Files | Est. Lines |
|-------|-----------|-----------|---------------|------------|
| 0 â€” Foundation | ROAD-001 | ~75 | ~17 | N/A |
| 1 â€” Core Schemas | ROAD-002, 003, 007 | ~20 | ~3 | ~2,000 |
| 2 â€” Parsers & CLI | ROAD-004, 024 | ~18 | ~4 | ~1,600 |
| 3 â€” API, Scanner, Viz & Domain Tooling | ROAD-005, 006, 008, 009, 015, 016..023, 025, 027, 028, 029, 030, 031, 032, 033, 034, 035, 036, 037, 038 | ~119 | ~25 | ~10,200 |
| 4 â€” Advanced External Integrations | ROAD-010, 011, 012, 013, 014, 026 | ~40 | ~7 | ~4,800 |
| **Total** | **38** | **~272** | **~56** | **~18,600** |

---

## Key Principles

1. **The old system is the test oracle.** Until deleted, old governance scripts validate that the new system produces equivalent results.

2. **Agents are the canary.** If agents can create valid artifacts using the new tooling, the migration is working.

3. **Progressive, not big-bang.** Each release replaces one piece. Old and new coexist during transition.

4. **Self-referential domain.** The delivery framework governs its own development. ROAD items track the phases of this plan.

5. **Generic by default.** No domain-specific content in the framework itself. The example domain (FOE scanning/reporting) demonstrates the pattern without coupling to it.

---

## Detailed Plan Documents

| Document | ROAD Items | Scope |
|----------|-----------|-------|
| [Master Plan](../plans/master-plan.md) | All | Full vision, end state, progressive release path |
| [Governance Mapper Overview](../plans/governance-mapper-overview.md) | All | Architecture, cross-reference model, dependency order |
| [Governance Schemas](../plans/governance-schemas.md) | ROAD-002 | 10 Zod schema files for 7 governance artifact types |
| [DDD Schemas](../plans/ddd-schemas.md) | ROAD-003 | 5 schema files for 4 DDD artifact types |
| [Parsers and Builders](../plans/parsers-and-builders.md) | ROAD-004 | 11 parsers, governance index builder, 6 CLI commands |
| [API Governance Domain](../plans/api-governance-domain.md) | ROAD-005 | API port, adapter, use cases, routes, DB tables |
| [Scanner Agents](../plans/scanner-agents.md) | ROAD-006 | Governance scanner agent, enhanced DDD agent |
| [Katalyst BDD Skills](../plans/katalyst-bdd-skills.md) | ROAD-007 | 5 OpenCode agent skills for BDD testing |
| [Delivery Framework Integration](../plans/prima-integration.md) | ROAD-008 | Progressive migration, self-referential domain |
| [Web Visualization](../plans/web-visualization.md) | ROAD-009 | Governance dashboard + DDD context map templates |
| Jira Integration *(plan TBD)* | ROAD-010 | Bidirectional Jira sync, Feedback dimension enhancement |
| Confluence Integration *(plan TBD)* | ROAD-011 | Bidirectional Confluence sync, Understanding dimension enhancement |
| GitHub Feedback Integration *(plan TBD)* | ROAD-012 | GitHub Actions/CI metrics, deployment frequency, build times |
| GitHub Understanding Integration *(plan TBD)* | ROAD-013 | PR/docs quality, wiki import, governance publishing to GitHub |
| GitHub Confidence Integration *(plan TBD)* | ROAD-014 | PR reviews, branch protection, security alerts |
| SSE Streaming *(plan TBD)* | ROAD-015 | Real-time agent output, React useSSE hook, connection management |
| Interactive Context Map *(plan TBD)* | ROAD-016 | SVG context map with DDD pattern labels, hover/click, subdomain colors |
| Aggregate Tree *(plan TBD)* | ROAD-017 | Collapsible tree view for aggregate hierarchy exploration |
| Domain Event Flow *(plan TBD)* | ROAD-018 | Step-based event flow timeline with category color coding |
| Application Lifecycle State Machine *(plan TBD)* | ROAD-019 | SVG state machine with workflow states, transitions, sync/async |
| Subdomain Classification *(plan TBD)* | ROAD-020 | Core/Supporting/Generic classification for bounded contexts |
| Markdown Documentation Export *(plan TBD)* | ROAD-021 | Export domain model as downloadable markdown zip |
| ContextMapper CML Adapter | ROAD-024 | Zod â†’ CML export adapter with CLI command |
| Static Documentation Site Generator *(plan TBD)* | ROAD-022 | Generate standalone Vite + React + Tailwind site from domain model |
| Onboarding & How It Works *(plan TBD)* | ROAD-023 | 4-phase workflow guide, Human-in-the-Loop rationale, quick-start |
| External Roadmap Source *(plan TBD)* | ROAD-026 | Jira epics & GitHub Projects as external roadmap source of truth |
| [Hexagonal Architecture Extraction & BDD Stability](./roads/ROAD-027.md) | ROAD-027 | Extract proper hex layers for domain-modeling, fix 18 stale-data BDD failures |
| DDD Terminology Explainer Tooltips *(plan TBD)* | ROAD-028 | Reusable DDDTooltip component, ~20 term dictionary, tooltips across all DDD views |
| âœ… Fix Model Selection Persistence *(complete)* | ROAD-029 | Persist selected model ID across page refresh in DomainMapperPage |
| FOE Project Browser *(plan TBD)* | ROAD-030 | Redesign ReportsPage to project-oriented browser mirroring DomainMapperPage pattern |
| FOE Assessment Agent Chat *(plan TBD)* | ROAD-031 | AI coaching chat for FOE reports, modeled after DDDChat with SSE streaming |
| Clickable Artifact Counts *(UX enhancement)* | ROAD-032 | Convert static artifact count tiles in ContextDetailPanel to navigable buttons |
| Aggregate Tree Filtering & Search *(plan TBD)* | ROAD-033 | Search, context dropdown, artifact type filter pills for AggregateTreeView |
| Fix Markdown in DDDChat Question Answers *(UX bug fix)* | ROAD-034 | Render `**bold**` syntax in answered question user bubbles via Markdown component |
| Chat Session Persistence & Live Data Refresh *(critical UX fix)* | ROAD-035 | Persist chat across tab switches, auto-refresh model data after agent creates artifacts |
| Fix Workflow State Machine Diagram Text Readability *(accessibility fix)* | ROAD-036 | Improve label positioning, text contrast, collision detection for workflow diagrams |
| Enhance Chat Tab with AI Branding *(UX enhancement)* | ROAD-037 | Right-align chat tab, add sparkle icon, Prima Powered branding |
| Filter Glossary Terms by Clickable Tags *(UX enhancement)* | ROAD-038 | Make alias tags clickable with multi-select AND logic filtering in GlossaryView |
