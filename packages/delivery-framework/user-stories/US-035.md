---
id: US-035
title: "View Application Lifecycle State Machine"
persona: PER-007
status: draft
capabilities:
  - CAP-010
  - CAP-009
use_cases: []
acceptance_criteria:
  - "States render as positioned SVG nodes with color coding (normal, terminal, error)"
  - "Transitions drawn as arrows between states with labels"
  - "Synchronous transitions shown as solid lines, asynchronous as dashed"
  - "Hovering a state highlights connected transitions and related states"
  - "Clicking a state opens detail panel with incoming and outgoing transitions"
  - "Terminal states clearly marked as Complete or Error"
  - "State machine data loaded from a new workflow data model via API"
  - "Diagram supports dark mode and responsive layout"
---

# US-035: View Application Lifecycle State Machine

**As a** Domain Architect,
**I want to** see the application lifecycle as an interactive state machine diagram,
**so that** I can understand which states exist, what triggers transitions, and which paths lead to terminal or error states.

## Context

Domain models often involve complex workflows with multiple states and transitions. This story adds a state machine visualization — similar to the OPR site's ApplicationLifecycle component — that renders workflow states as positioned nodes with transition arrows. The visualization requires extending the DDD Domain Modeling API (CAP-009) with a workflow/state machine data model.

## API Extension Required

This story requires a new `DomainWorkflow` entity in the API with:
- States (id, name, description, position, isTerminal, isError, timestamp field)
- Transitions (from, to, label, isAsync)

## Road Items

- **ROAD-019** (Application Lifecycle State Machine View)

## Acceptance Criteria

1. States render as positioned, colored nodes on an SVG canvas
2. Terminal states show a "Complete" badge; error states show an "Error" badge
3. Transitions render as curved arrows with text labels
4. Solid arrows for synchronous transitions, dashed for asynchronous (batch)
5. Hover a state to highlight connected transitions and dim unrelated states
6. Click a state to see incoming and outgoing transitions in a detail panel
7. Detail panel shows state description and associated timestamp field name
8. Diagram responds to viewport width changes
9. Dark mode supported
10. Data sourced from new workflow API endpoints
