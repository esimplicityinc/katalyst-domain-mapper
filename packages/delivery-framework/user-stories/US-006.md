---
id: US-006
title: "Update Scanner Docker Build"
persona: PER-002
status: approved
capabilities:
  - CAP-004
use_cases: []
acceptance_criteria:
  - "Docker multi-stage build runs build:governance in the builder stage"
  - "governance-index.json is copied to /app/data/ alongside methods and observations indices"
  - "FOE_GOVERNANCE_INDEX environment variable is set in the runtime container"
  - "Scanner orchestrator dispatches the governance agent as the 6th specialist"
  - "Existing 5 specialist agents continue working unchanged"
  - "Docker image size increase is under 50MB"
---

# US-006: Update Scanner Docker Build

**As a** Platform Engineer,
**I want to** update the scanner Docker build to include the governance index,
**so that** the scanner can assess governance maturity alongside existing FOE dimensions.

## Context

The scanner Docker container uses a multi-stage build. Stage 1 builds the field guide indices. We need to also build the governance index and make it available to the new governance scanner agent in the runtime container.

## Road Items

- **ROAD-006** (Scanner Governance Agent) -- Primary implementation road item

## Acceptance Criteria

1. Docker multi-stage build runs `build:governance` in the builder stage
2. `governance-index.json` is copied to `/app/data/` alongside methods and observations indices
3. `FOE_GOVERNANCE_INDEX` environment variable is set in the runtime container
4. Scanner orchestrator dispatches the governance agent as the 6th specialist
5. Existing 5 specialist agents continue working unchanged
6. Docker image size increase is under 50MB
