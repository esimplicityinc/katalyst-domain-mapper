---
id: US-032
title: "Configure API Key and Scanner Settings"
persona: PER-002
status: draft
capabilities:
  - CAP-004
use_cases: []
acceptance_criteria:
  - "PUT /api/v1/config/api-key accepts an Anthropic API key and stores it in memory"
  - "After setting the key, GET /api/v1/config/status returns anthropicApiKey: true"
  - "PUT /api/v1/config/api-key with empty or missing apiKey returns 400"
  - "GET /api/v1/config/status returns anthropicApiKey: false when no key is configured"
  - "GET /api/v1/config/status returns scannerEnabled: true when key is set and Docker is available"
---

# US-032: Configure API Key and Scanner Settings

**As a** Platform Engineer,
**I want to** configure the Anthropic API key and check scanner readiness via the API,
**so that** I can set up the scanner without restarting the container and verify the system is ready to scan.

## Context

The scanner requires an Anthropic API key to function. The config endpoints allow setting the key at runtime (useful for containerized deployments) and checking whether the scanner is operational.

## Road Items

- **ROAD-001** (Import Governance Infrastructure) -- Config endpoints are part of the base API

## Acceptance Criteria

1. `PUT /api/v1/config/api-key` with `{"apiKey": "sk-ant-..."}` succeeds with 200
2. Subsequent `GET /api/v1/config/status` reflects `anthropicApiKey: true`
3. `PUT /api/v1/config/api-key` with empty body returns 400
4. Default state has `anthropicApiKey` reflecting whether `ANTHROPIC_API_KEY` env var is set
