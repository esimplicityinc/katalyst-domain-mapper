---
id: US-049
title: "Add Organizational Systems to Taxonomy"
persona: PER-002
status: draft
capabilities:
  - CAP-013
use_cases: []
acceptance_criteria:
  - "Platform engineer can POST to /api/v1/taxonomy/nodes to create a system"
  - "System node includes name, nodeType='system', description, owners, environments"
  - "API validates parent references if provided"
  - "API returns 201 Created with the full node object"
  - "FQTN (fully qualified taxonomy name) is automatically calculated"
  - "Subsystems can be added with parentNode referencing the system"
  - "Validation prevents circular dependencies"
  - "Validation prevents duplicate names"
---

# US-049: Add Organizational Systems to Taxonomy

**As a** Platform Engineer,
**I want to** add new systems and subsystems to the taxonomy via API,
**so that** I can incrementally grow the organizational hierarchy without regenerating entire taxonomy snapshots.

## Context

As the organization grows, new teams launch new systems. Platform engineers need to add these to the taxonomy incrementally rather than editing large JSON files and re-ingesting snapshots. The API should validate parent references and prevent circular dependencies.

## Road Items

- **ROAD-041** (Taxonomy CRUD Operations) — Implements node CRUD

## Acceptance Criteria

1. Platform engineer can create a system node via `POST /api/v1/taxonomy/nodes`
2. Required fields: name, nodeType, fqtn, description
3. Optional fields: parentNode, owners, environments, labels, dependsOn
4. API validates that parentNode exists (if provided)
5. API prevents circular dependencies (e.g., A → B → A)
6. API returns 201 Created with full node object
7. FQTN is automatically calculated from parent chain
8. Subsystems can reference parent systems
9. Returns 400 with clear error if validation fails

## Example Request

```json
POST /api/v1/taxonomy/nodes

{
  "name": "katalyst",
  "nodeType": "system",
  "fqtn": "katalyst",
  "description": "Katalyst Domain Mapper System",
  "owners": ["platform-team"],
  "environments": ["dev", "prod"],
  "labels": {
    "tech-stack": "bun,react,typescript"
  }
}
```

## Example Response

```json
201 Created

{
  "name": "katalyst",
  "nodeType": "system",
  "fqtn": "katalyst",
  "description": "Katalyst Domain Mapper System",
  "parentNode": null,
  "owners": ["platform-team"],
  "environments": ["dev", "prod"],
  "labels": {
    "tech-stack": "bun,react,typescript"
  },
  "dependsOn": []
}
```

## Related Stories

- **US-050** (Define Architectural Layer Standards) — Uses layer types
- **US-051** (Map Capabilities to Nodes) — Links capabilities to systems
