---
id: US-004
title: "Build Governance Index from CLI"
persona: PER-002
status: approved
capabilities:
  - CAP-002
  - CAP-003
use_cases: []
acceptance_criteria:
  - "Running `foe-field-guide build:governance` parses all governance markdown files"
  - "Output is a single governance-index.json with all artifacts keyed by ID"
  - "Reverse indices are generated (byCapability, byPersona, byRoad, byContext)"
  - "Referential integrity errors are reported with specific file and field references"
  - "Statistics section includes artifact counts, roads-by-status, and integrity status"
  - "Build completes in under 5 seconds for 100 artifacts"
  - "Exit code 0 on success, exit code 1 on validation failure"
---

# US-004: Build Governance Index from CLI

**As a** Platform Engineer,
**I want to** build a governance index JSON from the CLI,
**so that** all governance artifacts are parsed, cross-referenced, and available as a single consumable file.

## Context

The governance index is the central artifact that the API, scanner, and web UI all consume. It must be buildable from the CLI for CI/CD integration and Docker builds. The builder validates cross-references and reports integrity errors.

## Road Items

- **ROAD-004** (Governance Parsers, Index Builder & CLI) -- Primary implementation road item

## Acceptance Criteria

1. Running `foe-field-guide build:governance` parses all governance markdown files
2. Output is a single `governance-index.json` with all artifacts keyed by ID
3. Reverse indices are generated (byCapability, byPersona, byRoad, byContext)
4. Referential integrity errors are reported with specific file and field references
5. Statistics section includes artifact counts, roads-by-status, and integrity status
6. Build completes in under 5 seconds for 100 artifacts
7. Exit code 0 on success, exit code 1 on validation failure
