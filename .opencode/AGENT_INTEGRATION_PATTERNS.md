# Agent Integration Patterns & Workflows

## ğŸ—ï¸ System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CLAUDE CODE CLI                              â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              LAYER 1: MASTER ORCHESTRATORS                    â”‚ â”‚
â”‚  â”‚                                                                 â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚ â”‚
â”‚  â”‚  â”‚ superpowers-         â”‚    â”‚ main-                â”‚        â”‚ â”‚
â”‚  â”‚  â”‚ orchestrator         â”‚    â”‚ orchestrator         â”‚        â”‚ â”‚
â”‚  â”‚  â”‚                      â”‚    â”‚                      â”‚        â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Full SDLC          â”‚    â”‚ â€¢ Complex tasks      â”‚        â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Quality gates      â”‚    â”‚ â€¢ High-level coord   â”‚        â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Documentation      â”‚    â”‚ â€¢ Decision making    â”‚        â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚ â”‚
â”‚  â”‚             â”‚                            â”‚                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                â”‚                            â”‚                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              LAYER 2: DOMAIN SPECIALISTS                       â”‚ â”‚
â”‚  â”‚                                                                 â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚ â”‚
â”‚  â”‚  â”‚ code-writer â”‚  â”‚ architecture â”‚  â”‚ ddd-aligner  â”‚         â”‚ â”‚
â”‚  â”‚  â”‚             â”‚  â”‚ inspector    â”‚  â”‚              â”‚         â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ â”‚
â”‚  â”‚                                                                 â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚ â”‚
â”‚  â”‚  â”‚ bdd-writer  â”‚  â”‚ bdd-runner   â”‚  â”‚ ci-runner    â”‚         â”‚ â”‚
â”‚  â”‚  â”‚             â”‚  â”‚              â”‚  â”‚              â”‚         â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ â”‚
â”‚  â”‚                                                                 â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚ â”‚
â”‚  â”‚  â”‚ ux-ui-      â”‚  â”‚ site-keeper  â”‚  â”‚ ddd-domain-  â”‚         â”‚ â”‚
â”‚  â”‚  â”‚ inspector   â”‚  â”‚              â”‚  â”‚ mapper       â”‚         â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ â”‚
â”‚  â”‚                                                                 â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚ â”‚
â”‚  â”‚  â”‚ change-     â”‚  â”‚ agent-       â”‚  â”‚ roadmap-     â”‚         â”‚ â”‚
â”‚  â”‚  â”‚ manager     â”‚  â”‚ manager      â”‚  â”‚ addition     â”‚         â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚           LAYER 3: PACKAGE-SPECIFIC SUBAGENTS               â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚  packages/assessment/.opencode/agents/                      â”‚ â”‚
â”‚  â”‚                                                               â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ domain  â”‚ â”‚ arch    â”‚ â”‚ tests   â”‚ â”‚ ci      â”‚ â”‚ docs â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ scanner â”‚ â”‚ scanner â”‚ â”‚ scanner â”‚ â”‚ scanner â”‚ â”‚ scan â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚ â”‚
â”‚  â”‚                           â”‚ container       â”‚               â”‚ â”‚
â”‚  â”‚                           â”‚ scanner         â”‚               â”‚ â”‚
â”‚  â”‚                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚         SKILLS LAYER             â”‚
              â”‚  (Load before using agents)      â”‚
              â”‚                                  â”‚
              â”‚  â€¢ superpowers-integration       â”‚
              â”‚  â€¢ clean-ddd-hexagonal          â”‚
              â”‚  â€¢ test-driven-development      â”‚
              â”‚  â€¢ katalyst-bdd-* (5 skills)    â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Pattern 1: Full Feature Implementation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    USER INITIATES                               â”‚
â”‚                @superpowers-orchestrator start                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PHASE 1: DISCOVERY                                             â”‚
â”‚                                                                  â”‚
â”‚  1. Read ROADMAP.md & docs/roads/ROAD-*.md                     â”‚
â”‚  2. Present active items (ğŸš§ In Progress, ğŸ”„ Iterating)        â”‚
â”‚  3. User selects ROAD-XXX                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PHASE 2: BDD VERIFICATION                                      â”‚
â”‚                                                                  â”‚
â”‚  1. Check stack-tests/features/ for scenarios                   â”‚
â”‚  2. If missing â†’ ASK PERMISSION â† âš ï¸ CRITICAL                  â”‚
â”‚  3. Delegate to @bdd-writer (if approved)                       â”‚
â”‚     â””â”€â†’ @bdd-writer                                            â”‚
â”‚         â”œâ”€ Reads ROAD-XXX.md, capabilities, personas           â”‚
â”‚         â”œâ”€ Drafts scenarios                                     â”‚
â”‚         â”œâ”€ ASKS PERMISSION (again)                             â”‚
â”‚         â””â”€ Creates feature file with tags                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PHASE 3: ENVIRONMENT HEALTH                                    â”‚
â”‚                                                                  â”‚
â”‚  Delegate to @site-keeper                                       â”‚
â”‚  â””â”€â†’ @site-keeper                                              â”‚
â”‚      â”œâ”€ Check if servers running                               â”‚
â”‚      â”œâ”€ Auto-start: just dev-all (if needed)                   â”‚
â”‚      â””â”€ Verify: just bdd-test (baseline)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PHASE 4: IMPLEMENTATION (TDD Cycle)                            â”‚
â”‚                                                                  â”‚
â”‚  /superpowers:brainstorm (optional)                             â”‚
â”‚  /superpowers:write-plan                                        â”‚
â”‚  /superpowers:execute-plan                                      â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  TASK 1: Domain Layer                             â”‚         â”‚
â”‚  â”‚  Delegate to @code-writer                          â”‚         â”‚
â”‚  â”‚  â””â”€â†’ @code-writer                                 â”‚         â”‚
â”‚  â”‚      â”œâ”€ Create aggregates                          â”‚         â”‚
â”‚  â”‚      â”œâ”€ Create value objects                       â”‚         â”‚
â”‚  â”‚      â”œâ”€ Create domain events                       â”‚         â”‚
â”‚  â”‚      â””â”€ Return: "Domain layer complete"           â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                          â”‚                                      â”‚
â”‚                          â–¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  CHECKPOINT 2a: Architecture Review (BLOCKING) ğŸš« â”‚         â”‚
â”‚  â”‚  Delegate to @architecture-inspector               â”‚         â”‚
â”‚  â”‚  â””â”€â†’ @architecture-inspector                      â”‚         â”‚
â”‚  â”‚      â”œâ”€ Check domain purity                       â”‚         â”‚
â”‚  â”‚      â”œâ”€ Verify no infrastructure imports          â”‚         â”‚
â”‚  â”‚      â”œâ”€ Check dependency direction                â”‚         â”‚
â”‚  â”‚      â””â”€ Return: PASS | CONDITIONAL | FAIL         â”‚         â”‚
â”‚  â”‚                                                     â”‚         â”‚
â”‚  â”‚  IF FAIL:                                          â”‚         â”‚
â”‚  â”‚    1. STOP workflow â›”                            â”‚         â”‚
â”‚  â”‚    2. Report violations                            â”‚         â”‚
â”‚  â”‚    3. Delegate to @code-writer to fix              â”‚         â”‚
â”‚  â”‚    4. Re-verify with @architecture-inspector       â”‚         â”‚
â”‚  â”‚    5. Must PASS before continuing                  â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                          â”‚                                      â”‚
â”‚                          â–¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  TASK 2: Application Layer                        â”‚         â”‚
â”‚  â”‚  Delegate to @code-writer                          â”‚         â”‚
â”‚  â”‚  â””â”€â†’ @code-writer                                 â”‚         â”‚
â”‚  â”‚      â”œâ”€ Create use cases                          â”‚         â”‚
â”‚  â”‚      â”œâ”€ Create services                            â”‚         â”‚
â”‚  â”‚      â”œâ”€ Define repository ports                    â”‚         â”‚
â”‚  â”‚      â””â”€ Return: "Application layer complete"      â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                          â”‚                                      â”‚
â”‚                          â–¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  CHECKPOINT 3a: Architecture Review (BLOCKING) ğŸš« â”‚         â”‚
â”‚  â”‚  Delegate to @architecture-inspector               â”‚         â”‚
â”‚  â”‚  (Same process as Checkpoint 2a)                   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                          â”‚                                      â”‚
â”‚                          â–¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  TASK 3: Infrastructure Layer                     â”‚         â”‚
â”‚  â”‚  Delegate to @code-writer                          â”‚         â”‚
â”‚  â”‚  â””â”€â†’ @code-writer                                 â”‚         â”‚
â”‚  â”‚      â”œâ”€ Implement repository adapters              â”‚         â”‚
â”‚  â”‚      â”œâ”€ Create database connections                â”‚         â”‚
â”‚  â”‚      â”œâ”€ Implement external API adapters            â”‚         â”‚
â”‚  â”‚      â””â”€ Return: "Infrastructure complete"         â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                          â”‚                                      â”‚
â”‚                          â–¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  CHECKPOINT 4a: Final Architecture Review ğŸš«      â”‚         â”‚
â”‚  â”‚  Delegate to @architecture-inspector               â”‚         â”‚
â”‚  â”‚  (Full system verification)                        â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PHASE 5: QUALITY GATES (MANDATORY - NO SKIP)                  â”‚
â”‚                                                                  â”‚
â”‚  GATE 1: Architecture Review (if not in Phase 4)               â”‚
â”‚  â””â”€â†’ @architecture-inspector verify                            â”‚
â”‚                                                                  â”‚
â”‚  GATE 2: Domain Alignment                                       â”‚
â”‚  â””â”€â†’ @ddd-aligner check domain model                           â”‚
â”‚                                                                  â”‚
â”‚  GATE 3: TypeScript Check                                       â”‚
â”‚  â””â”€â†’ bunx tsc --noEmit                                          â”‚
â”‚                                                                  â”‚
â”‚  GATE 4: Unit Tests (if tests exist)                           â”‚
â”‚  â””â”€â†’ bun test                                                   â”‚
â”‚                                                                  â”‚
â”‚  GATE 5: BDD Test Execution                                     â”‚
â”‚  â””â”€â†’ @bdd-runner run tests                                     â”‚
â”‚                                                                  â”‚
â”‚  GATE 6: CI Validation                                          â”‚
â”‚  â””â”€â†’ @ci-runner run full suite                                 â”‚
â”‚                                                                  â”‚
â”‚  GATE 7: UI Review (if UI changes)                             â”‚
â”‚  â””â”€â†’ @ux-ui-inspector review                                   â”‚
â”‚                                                                  â”‚
â”‚  Auto-fix loop: Max 3 attempts per issue                       â”‚
â”‚  If still failing after 3 attempts â†’ Report to user            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PHASE 6: BDD STEP IMPLEMENTATION (MANDATORY)                  â”‚
â”‚                                                                  â”‚
â”‚  1. Run: just bdd-roadmap ROAD-XXX                              â”‚
â”‚  2. Count missing step definitions                              â”‚
â”‚  3. Categorize:                                                 â”‚
â”‚     â”œâ”€ ROAD-specific (MUST implement)                          â”‚
â”‚     â””â”€ Project-wide (Document only)                            â”‚
â”‚                                                                  â”‚
â”‚  IF â‰¥1 ROAD-specific step missing:                            â”‚
â”‚  â””â”€â†’ @code-writer implement BDD steps                          â”‚
â”‚      â”œâ”€ Create step definitions                                â”‚
â”‚      â”œâ”€ Update steps.ts exports                                â”‚
â”‚      â””â”€ Verify: just bdd-roadmap ROAD-XXX (0 missing)        â”‚
â”‚                                                                  â”‚
â”‚  COMPLETION CRITERIA:                                           â”‚
â”‚  â€¢ "0 missing steps for ROAD-XXX" OR                          â”‚
â”‚  â€¢ Document blocker with user approval                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PHASE 7: COMPLETION                                            â”‚
â”‚                                                                  â”‚
â”‚  1. /superpowers:finish-branch                                  â”‚
â”‚  2. Update docs/roads/ROAD-XXX.md                              â”‚
â”‚     â””â”€ status: implementing â†’ complete                         â”‚
â”‚  3. Update docs/CHANGELOG.md                                    â”‚
â”‚     â””â”€ @change-manager create CHANGE-XXX                       â”‚
â”‚  4. Update docs/ROADMAP.mdx (if needed)                        â”‚
â”‚  5. Create execution log:                                       â”‚
â”‚     â””â”€ .opencode/logs/YYYY-MM-DD-HHMMSS-ROAD-XXX.md          â”‚
â”‚                                                                  â”‚
â”‚  Execution log includes:                                        â”‚
â”‚  â€¢ Front matter (date, model, status, tools, subagents)       â”‚
â”‚  â€¢ Phase-by-phase breakdown                                    â”‚
â”‚  â€¢ Quality gate results                                         â”‚
â”‚  â€¢ Blockers encountered                                         â”‚
â”‚  â€¢ Resolution steps                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
                    âœ… COMPLETE
```

---

## ğŸ”„ Pattern 2: Quick Bug Fix (Bypass Orchestration)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    USER REPORTS BUG                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  IDENTIFY FAILURE                                               â”‚
â”‚                                                                  â”‚
â”‚  @bdd-runner identify failing test                              â”‚
â”‚  â””â”€â†’ @bdd-runner                                               â”‚
â”‚      â”œâ”€ Run tests                                              â”‚
â”‚      â”œâ”€ Categorize failures                                     â”‚
â”‚      â””â”€ Return: "Test X failing: reason Y"                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FIX ISSUE                                                      â”‚
â”‚                                                                  â”‚
â”‚  @code-writer fix [specific issue]                              â”‚
â”‚  â””â”€â†’ @code-writer                                              â”‚
â”‚      â”œâ”€ Locate bug                                             â”‚
â”‚      â”œâ”€ Fix logic                                              â”‚
â”‚      â”œâ”€ Run tests                                              â”‚
â”‚      â””â”€ Return: "Fixed + tests passing"                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  VALIDATE                                                       â”‚
â”‚                                                                  â”‚
â”‚  @architecture-inspector verify                                 â”‚
â”‚  @ci-runner final check                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DOCUMENT                                                       â”‚
â”‚                                                                  â”‚
â”‚  @change-manager create entry for bug fix                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
                    âœ… BUG FIXED
```

---

## ğŸ”„ Pattern 3: Domain Discovery Session

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  USER WANTS TO MAP DOMAIN                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PREPARATION                                                    â”‚
â”‚                                                                  â”‚
â”‚  use skill tool to load clean-ddd-hexagonal                     â”‚
â”‚  â””â”€â†’ Loads:                                                    â”‚
â”‚      â”œâ”€ Strategic DDD patterns                                 â”‚
â”‚      â”œâ”€ Tactical DDD patterns                                  â”‚
â”‚      â”œâ”€ Hexagonal architecture                                 â”‚
â”‚      â”œâ”€ CQRS & events                                          â”‚
â”‚      â””â”€ Testing strategies                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  START MAPPER                                                   â”‚
â”‚                                                                  â”‚
â”‚  @ddd-domain-mapper                                             â”‚
â”‚  â””â”€â†’ @ddd-domain-mapper                                        â”‚
â”‚      â”œâ”€ Asks: "What's the core business problem?"             â”‚
â”‚      â”œâ”€ Asks: "Who are the key actors?"                       â”‚
â”‚      â”œâ”€ Asks: "What are the main processes?"                  â”‚
â”‚      â””â”€ Asks: "Where do terms have different meanings?"       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PHASE 1: BOUNDED CONTEXTS                                      â”‚
â”‚                                                                  â”‚
â”‚  Identifies contexts based on:                                  â”‚
â”‚  â”œâ”€ Team boundaries                                            â”‚
â”‚  â”œâ”€ Language differences                                        â”‚
â”‚  â”œâ”€ Database boundaries                                         â”‚
â”‚  â””â”€ Deployment boundaries                                       â”‚
â”‚                                                                  â”‚
â”‚  For each context:                                              â”‚
â”‚  â””â”€â†’ curl POST /api/v1/domain-models/MODEL_ID/contexts         â”‚
â”‚      â”œâ”€ Saves: slug, title, responsibility                     â”‚
â”‚      â”œâ”€ Returns: {id: "context-uuid"}                          â”‚
â”‚      â””â”€ Stores ID for next phase                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PHASE 2: AGGREGATES                                            â”‚
â”‚                                                                  â”‚
â”‚  For each bounded context:                                      â”‚
â”‚  Identifies aggregates based on:                                â”‚
â”‚  â”œâ”€ Consistency boundaries                                      â”‚
â”‚  â”œâ”€ Transaction boundaries                                      â”‚
â”‚  â”œâ”€ Entities that change together                              â”‚
â”‚  â””â”€ Invariants that must be enforced                           â”‚
â”‚                                                                  â”‚
â”‚  For each aggregate:                                            â”‚
â”‚  â””â”€â†’ curl POST /api/v1/domain-models/MODEL_ID/aggregates       â”‚
â”‚      â”œâ”€ Saves: slug, rootEntity, entities, VOs                 â”‚
â”‚      â”œâ”€ Links: contextId (from Phase 1)                        â”‚
â”‚      â”œâ”€ Returns: {id: "aggregate-uuid"}                        â”‚
â”‚      â””â”€ Stores ID for next phase                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PHASE 3: DOMAIN EVENTS                                         â”‚
â”‚                                                                  â”‚
â”‚  Identifies events that:                                        â”‚
â”‚  â”œâ”€ Domain experts care about                                  â”‚
â”‚  â”œâ”€ Trigger state changes                                      â”‚
â”‚  â”œâ”€ Flow between aggregates                                    â”‚
â”‚  â””â”€ Cross context boundaries                                    â”‚
â”‚                                                                  â”‚
â”‚  For each event (past tense):                                   â”‚
â”‚  â””â”€â†’ curl POST /api/v1/domain-models/MODEL_ID/events           â”‚
â”‚      â”œâ”€ Saves: slug, payload, consumers                        â”‚
â”‚      â”œâ”€ Links: contextId, aggregateId (optional)              â”‚
â”‚      â””â”€ Returns: {id: "event-uuid"}                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PHASE 4: UBIQUITOUS LANGUAGE                                   â”‚
â”‚                                                                  â”‚
â”‚  Builds glossary of:                                            â”‚
â”‚  â”œâ”€ Domain-specific terms                                      â”‚
â”‚  â”œâ”€ Precise definitions                                         â”‚
â”‚  â”œâ”€ Aliases (other names used)                                 â”‚
â”‚  â”œâ”€ Examples (concrete usage)                                   â”‚
â”‚  â””â”€ Related terms                                               â”‚
â”‚                                                                  â”‚
â”‚  For each term:                                                 â”‚
â”‚  â””â”€â†’ curl POST /api/v1/domain-models/MODEL_ID/glossary         â”‚
â”‚      â”œâ”€ Saves: term, definition, aliases                       â”‚
â”‚      â”œâ”€ Links: contextId (optional)                            â”‚
â”‚      â””â”€ Returns: {id: "term-uuid"}                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  VERIFICATION                                                   â”‚
â”‚                                                                  â”‚
â”‚  Check governance UI:                                           â”‚
â”‚  â”œâ”€ http://localhost:3000/contexts                             â”‚
â”‚  â”œâ”€ http://localhost:3000/aggregates                           â”‚
â”‚  â”œâ”€ http://localhost:3000/events                               â”‚
â”‚  â””â”€ http://localhost:3000/glossary                             â”‚
â”‚                                                                  â”‚
â”‚  Verify all artifacts persisted                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
              âœ… DOMAIN MODEL DOCUMENTED
```

---

## ğŸ”„ Pattern 4: Architecture Review Loop

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              CODE CHANGES COMPLETE                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  REQUEST REVIEW                                                 â”‚
â”‚                                                                  â”‚
â”‚  @architecture-inspector verify hexagonal compliance            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  INSPECTION PROCESS                                             â”‚
â”‚                                                                  â”‚
â”‚  @architecture-inspector                                        â”‚
â”‚  â”œâ”€ Check 1: Domain layer purity                              â”‚
â”‚  â”‚   â””â”€ No infrastructure imports?                            â”‚
â”‚  â”œâ”€ Check 2: Dependency direction                             â”‚
â”‚  â”‚   â””â”€ All dependencies point inward?                        â”‚
â”‚  â”œâ”€ Check 3: Ports & adapters                                 â”‚
â”‚  â”‚   â””â”€ Repository interfaces in domain?                      â”‚
â”‚  â”œâ”€ Check 4: Value objects                                    â”‚
â”‚  â”‚   â””â”€ Are they immutable?                                   â”‚
â”‚  â””â”€ Check 5: Aggregate boundaries                             â”‚
â”‚      â””â”€ Do they enforce invariants?                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚  VIOLATIONS?  â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚              â”‚              â”‚
         YES             NO              â”‚
           â”‚              â”‚              â”‚
           â–¼              â–¼              â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
    â”‚   FAIL   â”‚   â”‚   PASS   â”‚        â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â”‚
         â”‚              â”‚              â”‚
         â”‚              â–¼              â”‚
         â”‚         âœ… APPROVED         â”‚
         â”‚                             â”‚
         â–¼                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  ğŸš« STOP WORKFLOW                  â”‚ â”‚
â”‚                                    â”‚ â”‚
â”‚  Report violations:                â”‚ â”‚
â”‚  â€¢ Domain imports infrastructure  â”‚ â”‚
â”‚  â€¢ Missing repository ports       â”‚ â”‚
â”‚  â€¢ Dependencies flow outward      â”‚ â”‚
â”‚  â€¢ Value objects not immutable    â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
             â”‚                         â”‚
             â–¼                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  FIX VIOLATIONS                    â”‚ â”‚
â”‚                                    â”‚ â”‚
â”‚  @code-writer fix violations       â”‚ â”‚
â”‚  â”œâ”€ Move logic to proper layer    â”‚ â”‚
â”‚  â”œâ”€ Create missing ports           â”‚ â”‚
â”‚  â”œâ”€ Extract adapters               â”‚ â”‚
â”‚  â””â”€ Remove infrastructure imports  â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
             â”‚                         â”‚
             â–¼                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  RE-VERIFY                         â”‚ â”‚
â”‚                                    â”‚ â”‚
â”‚  @architecture-inspector re-verify â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
             â”‚                         â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     (Loop until PASS)
```

---

## ğŸ”„ Pattern 5: Multi-Agent Delegation Chain

```
USER
 â”‚
 â””â”€â†’ @main-orchestrator "Refactor governance domain for multi-tenant"
      â”‚
      â”œâ”€â†’ Reads governance code
      â”‚
      â”œâ”€â†’ Breaks into subtasks:
      â”‚   â”œâ”€ Task 1: Update domain model
      â”‚   â”œâ”€ Task 2: Modify aggregates
      â”‚   â”œâ”€ Task 3: Update application services
      â”‚   â”œâ”€ Task 4: Refactor infrastructure
      â”‚   â””â”€ Task 5: Update tests
      â”‚
      â”œâ”€â†’ DELEGATION CHAIN BEGINS
      â”‚
      â”œâ”€â†’ Task 1: @code-writer update domain model
      â”‚   â””â”€â†’ @code-writer
      â”‚       â”œâ”€ Updates entities
      â”‚       â”œâ”€ Creates new value objects
      â”‚       â””â”€ Returns: "Domain updated"
      â”‚
      â”œâ”€â†’ Checkpoint: @architecture-inspector verify domain
      â”‚   â””â”€â†’ @architecture-inspector
      â”‚       â”œâ”€ Checks purity
      â”‚       â”œâ”€ Verifies boundaries
      â”‚       â””â”€ Returns: PASS
      â”‚
      â”œâ”€â†’ Task 2: @code-writer modify aggregates
      â”‚   â””â”€â†’ @code-writer
      â”‚       â”œâ”€ Refactors aggregates
      â”‚       â”œâ”€ Updates invariants
      â”‚       â””â”€ Returns: "Aggregates updated"
      â”‚
      â”œâ”€â†’ Checkpoint: @ddd-aligner check alignment
      â”‚   â””â”€â†’ @ddd-aligner
      â”‚       â”œâ”€ Verifies ubiquitous language
      â”‚       â”œâ”€ Checks aggregate boundaries
      â”‚       â””â”€ Returns: PASS
      â”‚
      â”œâ”€â†’ Task 3: @code-writer update services
      â”‚   â””â”€â†’ @code-writer
      â”‚       â”œâ”€ Refactors services
      â”‚       â”œâ”€ Updates DTOs
      â”‚       â””â”€ Returns: "Services updated"
      â”‚
      â”œâ”€â†’ Task 4: @code-writer refactor infrastructure
      â”‚   â””â”€â†’ @code-writer
      â”‚       â”œâ”€ Updates adapters
      â”‚       â”œâ”€ Modifies repositories
      â”‚       â””â”€ Returns: "Infrastructure updated"
      â”‚
      â”œâ”€â†’ Checkpoint: @architecture-inspector final verify
      â”‚   â””â”€â†’ @architecture-inspector
      â”‚       â”œâ”€ Full system check
      â”‚       â””â”€ Returns: PASS
      â”‚
      â”œâ”€â†’ Task 5: @bdd-runner run tests
      â”‚   â””â”€â†’ @bdd-runner
      â”‚       â”œâ”€ Executes all tests
      â”‚       â””â”€ Returns: "âœ… All pass"
      â”‚
      â”œâ”€â†’ Final: @ci-runner validate
      â”‚   â””â”€â†’ @ci-runner
      â”‚       â”œâ”€ Lint, typecheck, format
      â”‚       â””â”€ Returns: "âœ… All green"
      â”‚
      â””â”€â†’ SYNTHESIS
          â”œâ”€ Summarizes all results
          â”œâ”€ Updates documentation
          â””â”€ Reports to user:
              "âœ… Governance domain refactored for multi-tenant
               â€¢ Domain model updated and verified
               â€¢ Aggregates aligned with DDD
               â€¢ Services and infrastructure refactored
               â€¢ All tests passing
               â€¢ CI green

               Changes:
               â€¢ 12 files modified
               â€¢ 3 aggregates updated
               â€¢ 0 architecture violations

               Documentation updated:
               â€¢ CHANGELOG.md entry created
               â€¢ ROADMAP.md status updated"
```

---

## ğŸ“Š Decision Matrix: Which Pattern to Use?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      SCENARIO            â”‚         RECOMMENDED PATTERN          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ New feature (ROAD-XXX)   â”‚ Pattern 1: Full Feature             â”‚
â”‚                          â”‚ @superpowers-orchestrator start     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Bug fix (simple)         â”‚ Pattern 2: Quick Bug Fix            â”‚
â”‚                          â”‚ @code-writer â†’ @ci-runner          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Domain discovery         â”‚ Pattern 3: Domain Discovery         â”‚
â”‚                          â”‚ @ddd-domain-mapper                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Architecture review      â”‚ Pattern 4: Architecture Review Loop â”‚
â”‚                          â”‚ @architecture-inspector             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Complex refactoring      â”‚ Pattern 5: Multi-Agent Chain        â”‚
â”‚                          â”‚ @main-orchestrator                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Documentation update     â”‚ Direct edit (no orchestration)      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Config change            â”‚ Direct edit + @ci-runner           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ UI enhancement (no BDD)  â”‚ @code-writer â†’ @ux-ui-inspector    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Test failure diagnosis   â”‚ @bdd-runner identify               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Server issues            â”‚ @site-keeper diagnose              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Creating new agent       â”‚ @agent-manager â†’ Create            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Integration Best Practices

### 1. Skill Loading Strategy

```
BEFORE any complex work:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  use skill tool to load:               â”‚
â”‚  â€¢ superpowers-integration            â”‚
â”‚  â€¢ clean-ddd-hexagonal                â”‚
â”‚  â€¢ test-driven-development (if TDD)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

WHY?
â€¢ Provides consistent context
â€¢ Ensures methodology adherence
â€¢ Prevents anti-patterns
```

### 2. Agent Delegation Hierarchy

```
LEVEL 1: Orchestrators
â”œâ”€ Coordinate workflow
â”œâ”€ Break into subtasks
â”œâ”€ Delegate to specialists
â””â”€ Synthesize results

       â†“ (NEVER implement directly)

LEVEL 2: Specialists
â”œâ”€ Execute specific tasks
â”œâ”€ Report results
â”œâ”€ Request reviews
â””â”€ Escalate blockers

       â†“ (Can sub-delegate)

LEVEL 3: Package Specialists
â”œâ”€ Domain-specific operations
â”œâ”€ Return structured findings
â””â”€ Link to FOE methods
```

### 3. Quality Gate Sequencing

```
MANDATORY ORDER (NO SKIP):

1. BDD Scenarios Created âœ…
   â””â”€ @bdd-writer (with permission)

2. Implementation Phase âœ…
   â”œâ”€ Domain layer â†’ @architecture-inspector
   â”œâ”€ Application layer â†’ @architecture-inspector
   â””â”€ Infrastructure â†’ @architecture-inspector

3. Domain Alignment âœ…
   â””â”€ @ddd-aligner verify

4. Test Execution âœ…
   â””â”€ @bdd-runner run all tests

5. BDD Steps Complete âœ…
   â””â”€ @code-writer implement steps
   â””â”€ @bdd-runner verify 0 missing

6. CI Validation âœ…
   â””â”€ @ci-runner full suite

7. UI Review (if applicable) âœ…
   â””â”€ @ux-ui-inspector review

ALL GATES MUST PASS
ğŸš« NO BYPASS ALLOWED
```

### 4. Communication Patterns

```
ORCHESTRATOR â†’ SPECIALIST:
{
  "task": "Implement UserAuth aggregate",
  "context": {
    "roadmap_item": "ROAD-035",
    "bounded_context": "authentication",
    "requirements": ["API key validation", "Session management"]
  },
  "constraints": {
    "patterns": ["DDD", "Hexagonal"],
    "review": ["architecture-inspector", "ddd-aligner"]
  }
}

SPECIALIST â†’ ORCHESTRATOR:
{
  "status": "complete",
  "files_modified": ["UserAuth.ts", "AuthService.ts"],
  "tests_passing": true,
  "next_steps": ["Request architecture review"],
  "blockers": []
}
```

---

## ğŸ”— Agent Dependency Graph

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    superpowers-orchestrator                     â”‚
â”‚                                                                  â”‚
â”‚  Dependencies: ALL AGENTS                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”œâ”€â†’ bdd-writer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ ddd-aligner
            â”‚                               â†‘
            â”œâ”€â†’ code-writer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚       â”‚                       â”‚
            â”‚       â”œâ”€â†’ architecture-inspector
            â”‚       â””â”€â†’ ddd-aligner
            â”‚
            â”œâ”€â†’ bdd-runner
            â”œâ”€â†’ ci-runner
            â”œâ”€â†’ ux-ui-inspector
            â”œâ”€â†’ site-keeper
            â””â”€â†’ change-manager

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      main-orchestrator                          â”‚
â”‚                                                                  â”‚
â”‚  Dependencies: ALL AGENTS (subset of superpowers)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”œâ”€â†’ code-writer
            â”œâ”€â†’ architecture-inspector
            â”œâ”€â†’ ddd-aligner
            â”œâ”€â†’ bdd-runner
            â”œâ”€â†’ ci-runner
            â””â”€â†’ site-keeper

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        agent-manager                            â”‚
â”‚                                                                  â”‚
â”‚  Dependencies: agent-creator, agent-editor, agent-analyzer      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â”œâ”€â†’ agent-creator
            â”œâ”€â†’ agent-editor
            â””â”€â†’ agent-analyzer

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ddd-domain-mapper                          â”‚
â”‚                                                                  â”‚
â”‚  Dependencies: NONE (standalone)                                â”‚
â”‚  Integrations: Governance API (http://localhost:8090)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ Summary

**Use these patterns as templates for your work:**

1. **Pattern 1** â†’ Default for all feature work
2. **Pattern 2** â†’ Quick fixes only
3. **Pattern 3** â†’ Before implementing new contexts
4. **Pattern 4** â†’ After any code changes
5. **Pattern 5** â†’ Complex multi-step tasks

**Key Principles:**
- Orchestrators delegate, never implement
- Quality gates are mandatory checkpoints
- Architecture violations STOP workflow
- BDD always comes first
- Document everything

**Integration Flow:**
```
Skills â†’ Orchestrator â†’ Specialists â†’ Quality Gates â†’ Documentation
```

**Success = All patterns working together harmoniously**

---

**Version:** 1.0.0
**Last Updated:** 2026-02-10
