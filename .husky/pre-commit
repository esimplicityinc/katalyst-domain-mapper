#!/bin/sh
# Run quality checks before commit

echo "ğŸ” Running pre-commit checks..."

# Check if just is installed
if ! command -v just &> /dev/null; then
    echo "âŒ Error: 'just' command not found. Please install justfile: https://github.com/casey/just"
    exit 1
fi

# Run typecheck
echo "ğŸ“ Type checking..."
just typecheck || exit 1

# Run formatting check
echo "âœ¨ Checking formatting..."
just format-check || {
    echo ""
    echo "âš ï¸  Formatting issues found. Auto-fix with: just format"
    exit 1
}

# Run tests
echo "ğŸ§ª Running tests..."
just test || exit 1

echo "âœ… All pre-commit checks passed!"
